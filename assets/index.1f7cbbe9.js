const rs=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(n){if(n.ep)return;n.ep=!0;const r=t(n);fetch(n.href,r)}};rs();function P(){}const It=s=>s;function os(s,e){for(const t in e)s[t]=e[t];return s}function is(s){return s&&typeof s=="object"&&typeof s.then=="function"}function Nn(s){return s()}function nl(){return Object.create(null)}function oe(s){s.forEach(Nn)}function ft(s){return typeof s=="function"}function X(s,e){return s!=s?e==e:s!==e||s&&typeof s=="object"||typeof s=="function"}let ht;function he(s,e){return ht||(ht=document.createElement("a")),ht.href=e,s===ht.href}function as(s){return Object.keys(s).length===0}function cs(s,...e){if(s==null)return P;const t=s.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function D(s,e,t){s.$$.on_destroy.push(cs(e,t))}function Nt(s,e,t,l){if(s){const n=An(s,e,t,l);return s[0](n)}}function An(s,e,t,l){return s[1]&&l?os(t.ctx.slice(),s[1](l(e))):t.ctx}function At(s,e,t,l){if(s[2]&&l){const n=s[2](l(t));if(e.dirty===void 0)return n;if(typeof n=="object"){const r=[],a=Math.max(e.dirty.length,n.length);for(let i=0;i<a;i+=1)r[i]=e.dirty[i]|n[i];return r}return e.dirty|n}return e.dirty}function Ut(s,e,t,l,n,r){if(n){const a=An(e,t,l,r);s.p(a,n)}}function Bt(s){if(s.ctx.length>32){const e=[],t=s.ctx.length/32;for(let l=0;l<t;l++)e[l]=-1;return e}return-1}function F(s,e,t){return s.set(t),e}function Un(s){return s&&ft(s.destroy)?s.destroy:P}const Bn=typeof window!="undefined";let Kt=Bn?()=>window.performance.now():()=>Date.now(),Ft=Bn?s=>requestAnimationFrame(s):P;const Ze=new Set;function Dn(s){Ze.forEach(e=>{e.c(s)||(Ze.delete(e),e.f())}),Ze.size!==0&&Ft(Dn)}function Gt(s){let e;return Ze.size===0&&Ft(Dn),{promise:new Promise(t=>{Ze.add(e={c:s,f:t})}),abort(){Ze.delete(e)}}}function d(s,e){s.appendChild(e)}function Hn(s){if(!s)return document;const e=s.getRootNode?s.getRootNode():s.ownerDocument;return e&&e.host?e:s.ownerDocument}function us(s){const e=_("style");return fs(Hn(s),e),e.sheet}function fs(s,e){d(s.head||s,e)}function b(s,e,t){s.insertBefore(e,t||null)}function h(s){s.parentNode.removeChild(s)}function Jt(s,e){for(let t=0;t<s.length;t+=1)s[t]&&s[t].d(e)}function _(s){return document.createElement(s)}function z(s){return document.createTextNode(s)}function S(){return z(" ")}function qe(){return z("")}function T(s,e,t,l){return s.addEventListener(e,t,l),()=>s.removeEventListener(e,t,l)}function be(s){return function(e){return e.preventDefault(),s.call(this,e)}}function p(s,e,t){t==null?s.removeAttribute(e):s.getAttribute(e)!==t&&s.setAttribute(e,t)}function ds(s){return Array.from(s.childNodes)}function G(s,e){e=""+e,s.wholeText!==e&&(s.data=e)}function et(s,e){s.value=e==null?"":e}function Be(s,e,t,l){t===null?s.style.removeProperty(e):s.style.setProperty(e,t,l?"important":"")}function ge(s,e,t){s.classList[t?"add":"remove"](e)}function Wn(s,e,{bubbles:t=!1,cancelable:l=!1}={}){const n=document.createEvent("CustomEvent");return n.initCustomEvent(s,t,l,e),n}const jt=new Map;let qt=0;function ps(s){let e=5381,t=s.length;for(;t--;)e=(e<<5)-e^s.charCodeAt(t);return e>>>0}function ms(s,e){const t={stylesheet:us(e),rules:{}};return jt.set(s,t),t}function Pt(s,e,t,l,n,r,a,i=0){const o=16.666/l;let c=`{
`;for(let g=0;g<=1;g+=o){const w=e+(t-e)*r(g);c+=g*100+`%{${a(w,1-w)}}
`}const u=c+`100% {${a(t,1-t)}}
}`,f=`__svelte_${ps(u)}_${i}`,m=Hn(s),{stylesheet:k,rules:v}=jt.get(m)||ms(m,s);v[f]||(v[f]=!0,k.insertRule(`@keyframes ${f} ${u}`,k.cssRules.length));const $=s.style.animation||"";return s.style.animation=`${$?`${$}, `:""}${f} ${l}ms linear ${n}ms 1 both`,qt+=1,f}function Qt(s,e){const t=(s.style.animation||"").split(", "),l=t.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),n=t.length-l.length;n&&(s.style.animation=l.join(", "),qt-=n,qt||_s())}function _s(){Ft(()=>{qt||(jt.forEach(s=>{const{stylesheet:e}=s;let t=e.cssRules.length;for(;t--;)e.deleteRule(t);s.rules={}}),jt.clear())})}function dt(s,e,t,l){if(!e)return P;const n=s.getBoundingClientRect();if(e.left===n.left&&e.right===n.right&&e.top===n.top&&e.bottom===n.bottom)return P;const{delay:r=0,duration:a=300,easing:i=It,start:o=Kt()+r,end:c=o+a,tick:u=P,css:f}=t(s,{from:e,to:n},l);let m=!0,k=!1,v;function $(){f&&(v=Pt(s,0,1,a,r,i,f)),r||(k=!0)}function g(){f&&Qt(s,v),m=!1}return Gt(w=>{if(!k&&w>=o&&(k=!0),k&&w>=c&&(u(1,0),g()),!m)return!1;if(k){const C=w-o,E=0+1*i(C/a);u(E,1-E)}return!0}),$(),u(0,1),g}function pt(s){const e=getComputedStyle(s);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:l}=e,n=s.getBoundingClientRect();s.style.position="absolute",s.style.width=t,s.style.height=l,lt(s,n)}}function lt(s,e){const t=s.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const l=getComputedStyle(s),n=l.transform==="none"?"":l.transform;s.style.transform=`${n} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let ut;function Re(s){ut=s}function xt(){if(!ut)throw new Error("Function called outside component initialization");return ut}function Vt(s){xt().$$.on_mount.push(s)}function gs(s){xt().$$.on_destroy.push(s)}function vs(){const s=xt();return(e,t,{cancelable:l=!1}={})=>{const n=s.$$.callbacks[e];if(n){const r=Wn(e,t,{cancelable:l});return n.slice().forEach(a=>{a.call(s,r)}),!r.defaultPrevented}return!0}}const it=[],Ne=[],yt=[],sl=[],Yn=Promise.resolve();let Dt=!1;function Kn(){Dt||(Dt=!0,Yn.then(Xt))}function Se(){return Kn(),Yn}function Pe(s){yt.push(s)}const Ot=new Set;let bt=0;function Xt(){const s=ut;do{for(;bt<it.length;){const e=it[bt];bt++,Re(e),hs(e.$$)}for(Re(null),it.length=0,bt=0;Ne.length;)Ne.pop()();for(let e=0;e<yt.length;e+=1){const t=yt[e];Ot.has(t)||(Ot.add(t),t())}yt.length=0}while(it.length);for(;sl.length;)sl.pop()();Dt=!1,Ot.clear(),Re(s)}function hs(s){if(s.fragment!==null){s.update(),oe(s.before_update);const e=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,e),s.after_update.forEach(Pe)}}let ot;function Fn(){return ot||(ot=Promise.resolve(),ot.then(()=>{ot=null})),ot}function at(s,e,t){s.dispatchEvent(Wn(`${e?"intro":"outro"}${t}`))}const Ct=new Set;let Me;function le(){Me={r:0,c:[],p:Me}}function ne(){Me.r||oe(Me.c),Me=Me.p}function j(s,e){s&&s.i&&(Ct.delete(s),s.i(e))}function q(s,e,t,l){if(s&&s.o){if(Ct.has(s))return;Ct.add(s),Me.c.push(()=>{Ct.delete(s),l&&(t&&s.d(1),l())}),s.o(e)}else l&&l()}const Gn={duration:0};function Jn(s,e,t){let l=e(s,t),n=!0,r;const a=Me;a.r+=1;function i(){const{delay:o=0,duration:c=300,easing:u=It,tick:f=P,css:m}=l||Gn;m&&(r=Pt(s,1,0,c,o,u,m));const k=Kt()+o,v=k+c;Pe(()=>at(s,!1,"start")),Gt($=>{if(n){if($>=v)return f(0,1),at(s,!1,"end"),--a.r||oe(a.c),!1;if($>=k){const g=u(($-k)/c);f(1-g,g)}}return n})}return ft(l)?Fn().then(()=>{l=l(),i()}):i(),{end(o){o&&l.tick&&l.tick(1,0),n&&(r&&Qt(s,r),n=!1)}}}function je(s,e,t,l){let n=e(s,t),r=l?0:1,a=null,i=null,o=null;function c(){o&&Qt(s,o)}function u(m,k){const v=m.b-r;return k*=Math.abs(v),{a:r,b:m.b,d:v,duration:k,start:m.start,end:m.start+k,group:m.group}}function f(m){const{delay:k=0,duration:v=300,easing:$=It,tick:g=P,css:w}=n||Gn,C={start:Kt()+k,b:m};m||(C.group=Me,Me.r+=1),a||i?i=C:(w&&(c(),o=Pt(s,r,m,v,k,$,w)),m&&g(0,1),a=u(C,v),Pe(()=>at(s,m,"start")),Gt(E=>{if(i&&E>i.start&&(a=u(i,v),i=null,at(s,a.b,"start"),w&&(c(),o=Pt(s,r,a.b,a.duration,0,$,n.css))),a){if(E>=a.end)g(r=a.b,1-r),at(s,a.b,"end"),i||(a.b?c():--a.group.r||oe(a.group.c)),a=null;else if(E>=a.start){const y=E-a.start;r=a.a+a.d*$(y/a.duration),g(r,1-r)}}return!!(a||i)}))}return{run(m){ft(n)?Fn().then(()=>{n=n(),f(m)}):f(m)},end(){c(),a=i=null}}}function Ye(s,e){const t=e.token={};function l(n,r,a,i){if(e.token!==t)return;e.resolved=i;let o=e.ctx;a!==void 0&&(o=o.slice(),o[a]=i);const c=n&&(e.current=n)(o);let u=!1;e.block&&(e.blocks?e.blocks.forEach((f,m)=>{m!==r&&f&&(le(),q(f,1,1,()=>{e.blocks[m]===f&&(e.blocks[m]=null)}),ne())}):e.block.d(1),c.c(),j(c,1),c.m(e.mount(),e.anchor),u=!0),e.block=c,e.blocks&&(e.blocks[r]=c),u&&Xt()}if(is(s)){const n=xt();if(s.then(r=>{Re(n),l(e.then,1,e.value,r),Re(null)},r=>{if(Re(n),l(e.catch,2,e.error,r),Re(null),!e.hasCatch)throw r}),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,s),!0;e.resolved=s}}function Qe(s,e,t){const l=e.slice(),{resolved:n}=s;s.current===s.then&&(l[s.value]=n),s.current===s.catch&&(l[s.error]=n),s.block.p(l,t)}function bs(s,e){q(s,1,1,()=>{e.delete(s.key)})}function mt(s,e){s.f(),bs(s,e)}function _t(s,e,t,l,n,r,a,i,o,c,u,f){let m=s.length,k=r.length,v=m;const $={};for(;v--;)$[s[v].key]=v;const g=[],w=new Map,C=new Map;for(v=k;v--;){const L=f(n,r,v),B=t(L);let W=a.get(B);W?l&&W.p(L,e):(W=c(B,L),W.c()),w.set(B,g[v]=W),B in $&&C.set(B,Math.abs(v-$[B]))}const E=new Set,y=new Set;function O(L){j(L,1),L.m(i,u),a.set(L.key,L),u=L.first,k--}for(;m&&k;){const L=g[k-1],B=s[m-1],W=L.key,Q=B.key;L===B?(u=L.first,m--,k--):w.has(Q)?!a.has(W)||E.has(W)?O(L):y.has(Q)?m--:C.get(W)>C.get(Q)?(y.add(W),O(L)):(E.add(Q),m--):(o(B,a),m--)}for(;m--;){const L=s[m];w.has(L.key)||o(L,a)}for(;k;)O(g[k-1]);return g}function x(s){s&&s.c()}function M(s,e,t,l){const{fragment:n,on_mount:r,on_destroy:a,after_update:i}=s.$$;n&&n.m(e,t),l||Pe(()=>{const o=r.map(Nn).filter(ft);a?a.push(...o):oe(o),s.$$.on_mount=[]}),i.forEach(Pe)}function I(s,e){const t=s.$$;t.fragment!==null&&(oe(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function ks(s,e){s.$$.dirty[0]===-1&&(it.push(s),Kn(),s.$$.dirty.fill(0)),s.$$.dirty[e/31|0]|=1<<e%31}function ee(s,e,t,l,n,r,a,i=[-1]){const o=ut;Re(s);const c=s.$$={fragment:null,ctx:null,props:r,update:P,not_equal:n,bound:nl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:nl(),dirty:i,skip_bound:!1,root:e.target||o.$$.root};a&&a(c.root);let u=!1;if(c.ctx=t?t(s,e.props||{},(f,m,...k)=>{const v=k.length?k[0]:m;return c.ctx&&n(c.ctx[f],c.ctx[f]=v)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](v),u&&ks(s,f)),m}):[],c.update(),u=!0,oe(c.before_update),c.fragment=l?l(c.ctx):!1,e.target){if(e.hydrate){const f=ds(e.target);c.fragment&&c.fragment.l(f),f.forEach(h)}else c.fragment&&c.fragment.c();e.intro&&j(s.$$.fragment),M(s,e.target,e.anchor,e.customElement),Xt()}Re(o)}class te{$destroy(){I(this,1),this.$destroy=P}$on(e,t){const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(t),()=>{const n=l.indexOf(t);n!==-1&&l.splice(n,1)}}$set(e){this.$$set&&!as(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Xe=[];function ue(s,e=P){let t;const l=new Set;function n(i){if(X(s,i)&&(s=i,t)){const o=!Xe.length;for(const c of l)c[1](),Xe.push(c,s);if(o){for(let c=0;c<Xe.length;c+=2)Xe[c][0](Xe[c+1]);Xe.length=0}}}function r(i){n(i(s))}function a(i,o=P){const c=[i,o];return l.add(c),l.size===1&&(t=e(n)||P),i(s),()=>{l.delete(c),l.size===0&&(t(),t=null)}}return{set:n,update:r,subscribe:a}}const He=ue("setup"),fe=ue("home"),ve=ue("logo"),H=ue(!1),ce=ue(""),Te=ue(!1),ct=ue(""),zt=ue(0),Fe=ue(""),Ce=ue(""),Ge=ue([]),Ht=ue(""),Ae=ue([]),Et=ue({}),Je=ue(""),Zt=ue(""),tt=ue({}),ie=ue({name:null,lvl:0,unread_inbox:!1,theme:"orange",mode:!0,sfx:!0,bgm:!0,bgm_song:2,layout:"new",pfp_data:1,quote:""}),We=ue(!1);window.onkeydown=function(s){s||(s=window.event),Ve=s.shiftKey};window.onkeyup=function(s){s||(s=window.event),Ve=s.shiftKey};window.onmousemove=function(s){s||(s=window.event),Ve=s.shiftKey};let Ve;function $s(){var s=new Audio("../src/assets/menu_notify.wav");s.play()}function Qn(){$s()}function ws(s){let e,t;const l=s[1].default,n=Nt(l,s,s[0],null);return{c(){e=_("div"),n&&n.c(),p(e,"class","svelte-6zv9mh")},m(r,a){b(r,e,a),n&&n.m(e,null),t=!0},p(r,[a]){n&&n.p&&(!t||a&1)&&Ut(n,l,r,r[0],t?At(l,r[0],a,null):Bt(r[0]),null)},i(r){t||(j(n,r),t=!0)},o(r){q(n,r),t=!1},d(r){r&&h(e),n&&n.d(r)}}}function ys(s,e,t){let{$$slots:l={},$$scope:n}=e;return s.$$set=r=>{"$$scope"in r&&t(0,n=r.$$scope)},[n,l]}class re extends te{constructor(e){super(),ee(this,e,ys,ws,X,{})}}var rl="./assets/icon_0.ab82a5ad.svg",ol="./assets/icon_1.3649891f.svg",il="./assets/icon_10.4bd3e33c.svg",al="./assets/icon_100.026e1a7d.svg",cl="./assets/icon_101.0a8d8a50.svg",ul="./assets/icon_11.521812d2.svg",fl="./assets/icon_12.0f7ed126.svg",dl="./assets/icon_13.58e2dcbb.svg",pl="./assets/icon_14.6513f659.svg",ml="./assets/icon_15.d1b06a28.svg",_l="./assets/icon_16.e5e55f53.svg",gl="./assets/icon_17.39e35340.svg",vl="./assets/icon_18.dc1f4b4e.svg",hl="./assets/icon_19.8ad18d14.svg",bl="./assets/icon_2.03a60034.svg",kl="./assets/icon_20.d1301d19.svg",$l="./assets/icon_21.2ef6b9a3.svg",wl="./assets/icon_22.c642b6ff.svg",yl="./assets/icon_23.cd7c45d1.svg",Cl="./assets/icon_24.6026f708.svg",Sl="./assets/icon_25.cc78b147.svg",jl="./assets/icon_26.1722b6b8.svg",ql="./assets/icon_27.89761f19.svg",Pl="./assets/icon_28.16f6404c.svg",zl="./assets/icon_29.f1843809.svg",El="./assets/icon_3.79effa11.svg",Ml="./assets/icon_30.36731108.svg",Il="./assets/icon_31.9df0a4c9.svg",xl="./assets/icon_32.b04ea763.svg",Ll="./assets/icon_33.aa0b2afc.svg",Ol="./assets/icon_4.078d1185.svg",Tl="./assets/icon_5.656d31e0.svg",Rl="./assets/icon_6.d72d5ba2.svg",Nl="./assets/icon_7.16e301c0.svg",Al="./assets/icon_8.515d5ae7.svg",Ul="./assets/icon_9.25c74dcc.svg",Bl="./assets/icon_err.8c194397.svg";function Dl(s){let e;return{c(){e=_("span"),p(e,"class","online svelte-is4478")},m(t,l){b(t,e,l)},d(t){t&&h(e)}}}function Cs(s){let e,t,l,n,r,a,i,o=s[2]&&Dl();return{c(){e=_("span"),o&&o.c(),t=S(),l=_("span"),n=_("img"),p(n,"alt",s[1]),p(n,"title",s[1]),he(n.src,r=new URL({"./../assets/avatars/icon_0.svg":rl,"./../assets/avatars/icon_1.svg":ol,"./../assets/avatars/icon_10.svg":il,"./../assets/avatars/icon_100.svg":al,"./../assets/avatars/icon_101.svg":cl,"./../assets/avatars/icon_11.svg":ul,"./../assets/avatars/icon_12.svg":fl,"./../assets/avatars/icon_13.svg":dl,"./../assets/avatars/icon_14.svg":pl,"./../assets/avatars/icon_15.svg":ml,"./../assets/avatars/icon_16.svg":_l,"./../assets/avatars/icon_17.svg":gl,"./../assets/avatars/icon_18.svg":vl,"./../assets/avatars/icon_19.svg":hl,"./../assets/avatars/icon_2.svg":bl,"./../assets/avatars/icon_20.svg":kl,"./../assets/avatars/icon_21.svg":$l,"./../assets/avatars/icon_22.svg":wl,"./../assets/avatars/icon_23.svg":yl,"./../assets/avatars/icon_24.svg":Cl,"./../assets/avatars/icon_25.svg":Sl,"./../assets/avatars/icon_26.svg":jl,"./../assets/avatars/icon_27.svg":ql,"./../assets/avatars/icon_28.svg":Pl,"./../assets/avatars/icon_29.svg":zl,"./../assets/avatars/icon_3.svg":El,"./../assets/avatars/icon_30.svg":Ml,"./../assets/avatars/icon_31.svg":Il,"./../assets/avatars/icon_32.svg":xl,"./../assets/avatars/icon_33.svg":Ll,"./../assets/avatars/icon_4.svg":Ol,"./../assets/avatars/icon_5.svg":Tl,"./../assets/avatars/icon_6.svg":Rl,"./../assets/avatars/icon_7.svg":Nl,"./../assets/avatars/icon_8.svg":Al,"./../assets/avatars/icon_9.svg":Ul,"./../assets/avatars/icon_err.svg":Bl}[`./../assets/avatars/icon_${s[0]===-1?34:s[0]===-2?"err":s[0]-1}.svg`],self.location).href)||p(n,"src",r),p(n,"draggable",!1),p(n,"width","auto"),p(n,"height","100%"),p(n,"class","svelte-is4478"),ge(n,"loading",s[0]===-1),p(l,"class","pfp svelte-is4478"),p(e,"class","pfp-container svelte-is4478"),Be(e,"--size",s[3],!1)},m(c,u){b(c,e,u),o&&o.m(e,null),d(e,t),d(e,l),d(l,n),a||(i=T(n,"error",s[4],{once:!0}),a=!0)},p(c,[u]){c[2]?o||(o=Dl(),o.c(),o.m(e,t)):o&&(o.d(1),o=null),u&2&&p(n,"alt",c[1]),u&2&&p(n,"title",c[1]),u&1&&!he(n.src,r=new URL({"./../assets/avatars/icon_0.svg":rl,"./../assets/avatars/icon_1.svg":ol,"./../assets/avatars/icon_10.svg":il,"./../assets/avatars/icon_100.svg":al,"./../assets/avatars/icon_101.svg":cl,"./../assets/avatars/icon_11.svg":ul,"./../assets/avatars/icon_12.svg":fl,"./../assets/avatars/icon_13.svg":dl,"./../assets/avatars/icon_14.svg":pl,"./../assets/avatars/icon_15.svg":ml,"./../assets/avatars/icon_16.svg":_l,"./../assets/avatars/icon_17.svg":gl,"./../assets/avatars/icon_18.svg":vl,"./../assets/avatars/icon_19.svg":hl,"./../assets/avatars/icon_2.svg":bl,"./../assets/avatars/icon_20.svg":kl,"./../assets/avatars/icon_21.svg":$l,"./../assets/avatars/icon_22.svg":wl,"./../assets/avatars/icon_23.svg":yl,"./../assets/avatars/icon_24.svg":Cl,"./../assets/avatars/icon_25.svg":Sl,"./../assets/avatars/icon_26.svg":jl,"./../assets/avatars/icon_27.svg":ql,"./../assets/avatars/icon_28.svg":Pl,"./../assets/avatars/icon_29.svg":zl,"./../assets/avatars/icon_3.svg":El,"./../assets/avatars/icon_30.svg":Ml,"./../assets/avatars/icon_31.svg":Il,"./../assets/avatars/icon_32.svg":xl,"./../assets/avatars/icon_33.svg":Ll,"./../assets/avatars/icon_4.svg":Ol,"./../assets/avatars/icon_5.svg":Tl,"./../assets/avatars/icon_6.svg":Rl,"./../assets/avatars/icon_7.svg":Nl,"./../assets/avatars/icon_8.svg":Al,"./../assets/avatars/icon_9.svg":Ul,"./../assets/avatars/icon_err.svg":Bl}[`./../assets/avatars/icon_${c[0]===-1?34:c[0]===-2?"err":c[0]-1}.svg`],self.location).href)&&p(n,"src",r),u&1&&ge(n,"loading",c[0]===-1),u&8&&Be(e,"--size",c[3],!1)},i:P,o:P,d(c){c&&h(e),o&&o.d(),a=!1,i()}}}function Ss(s,e,t){let{icon:l=-1}=e,{alt:n="Profile picture"}=e,{online:r=!1}=e,{size:a=1}=e;const i=()=>t(0,l=-2);return s.$$set=o=>{"icon"in o&&t(0,l=o.icon),"alt"in o&&t(1,n=o.alt),"online"in o&&t(2,r=o.online),"size"in o&&t(3,a=o.size)},[l,n,r,a,i]}class nt extends te{constructor(e){super(),ee(this,e,Ss,Cs,X,{icon:0,alt:1,online:2,size:3})}}function js(s){let e,t;return{c(){e=_("span"),t=z(s[0]),p(e,"title",s[1]),p(e,"class","date svelte-190wm28")},m(l,n){b(l,e,n),d(e,t)},p(l,[n]){n&1&&G(t,l[0]),n&2&&p(e,"title",l[1])},i:P,o:P,d(l){l&&h(e)}}}function qs(s,e,t){let{date:l=0}=e,n,r;return s.$$set=a=>{"date"in a&&t(2,l=a.date)},s.$$.update=()=>{if(s.$$.dirty&4){const a=new Date(l*1e3);t(0,n=a.toLocaleString()),t(1,r=`Time is in your local timezone (UTC+${-(a.getTimezoneOffset()/60)}).
12-hour time: ${a.toLocaleString([],{hourCycle:"h11"})}
24-hour time: ${a.toLocaleString([],{hourCycle:"h23"})}
ISO: ${a.toISOString()}`)}},[n,r,l]}class Ps extends te{constructor(e){super(),ee(this,e,qs,js,X,{date:2})}}function Ke(s){return new Promise(e=>setTimeout(e,s))}const zs=localStorage.getItem("meower_linkurl")||"wss://server.meower.org/",xe=localStorage.getItem("meower_apiurl")||"https://api.meower.org/",gt=localStorage.getItem("meower_encodeapi")||!1;class Es{constructor(e){return this.events={},this._numevents=1,this.ip=null,e&&this.connect(e),this}_console(e,t,l){const n=Array.from(arguments).slice(2),r="%o".repeat(n.length);console[e](`%cCLJS%c${t}%c ${r}`,"background:#0fbd8c;color:white;font-weight:bold;border-radius:4px 0 0 4px;padding:0 3px;display:inline-block","background:#000;color:white;font-weight:bold;border-radius:0 4px 4px 0;padding:0 3px;display:inline-block","",...n)}log(e,t){this._console.apply(this,["log",...arguments])}warn(e,t){this._console.apply(this,["warn",...arguments])}error(e,t){this._console.apply(this,["error",...arguments])}connect(e){return new Promise((t,l)=>{try{this.ws&&this.ws.readyState===1&&(this.log("connection","already connected, disconnecting..."),this.disconnect(1e3,"Intentional disconnect")),this.ws=new WebSocket(e),this.emit("connectionstart"),this.ws.addEventListener("open",async()=>{try{this.log("connection","connected to websockets");const n=localStorage.getItem("meower_ip");n||n===""?this.ip=n:this.ip=await(await fetch(xe+"ip")).text(),this.send({cmd:"direct",val:{cmd:"ip",val:this.ip}}),await Ke(100),this.send({cmd:"direct",val:{cmd:"type",val:"js"},listener:"send_type"});const r=this.sendListener({cmd:"direct",val:"meower",listener:"send_tkey"},a=>{a.cmd==="statuscode"&&(this.off(r),a.val==="I:100 | OK"?(t(),this.log("connection","successfully connected")):(l(a.val),this.error("connection","error connecting; code:",a.val)))});this.emit("connected")}catch(n){this.error("connection","error connecting:",n),l(n)}}),this.ws.addEventListener("message",n=>{const r=JSON.parse(n.data);this.log("< incoming",r);try{typeof r.val=="string"&&(r.val=JSON.parse(r.val),this.log("< incoming (edited)",r))}catch{}this.emit(r.cmd,r),r.listener&&this.emit("__listener_"+r.listener,r)}),this.ws.addEventListener("close",n=>{this.log("connection","disconnected with code ",n.code," and reason",n.reason),this.emit("disconnected",n)}),this.ws.addEventListener("error",n=>{this.error("connection","error:",n),this.emit("error",n)})}catch(n){l(n)}})}send(e){if(!this.ws||this.ws.readyState!==1)throw new Error("Not connected; use link.connect(server) to connect");this.log("> outgoing",e),this.ws.send(JSON.stringify(e))}sendListener(e,t){if(!e.listener)throw new Error("data must have a listener");return this.send(e),this.onListener(e.listener,t)}on(e,t){this._numevents++;const l=(this._numevents-1).toString();return this.events[l]={event:e,cb:t},l}onListener(e,t){return this.on("__listener_"+e,t)}off(e){if(!this.events[e])throw new Error("Tried to remove nonexistent listener");delete this.events[e]}once(e,t){const l=this.on(e,()=>{t(arguments),this.off(l)})}emit(e,t){Object.values(this.events).forEach(l=>{l.event===e&&l.cb(t)})}disconnect(e,t){!this.ws||this.ws.readyState!==1||(console.log(e,t),this.ws.close(e,t))}}function el(){return{name:null,theme:"orange",mode:!0,sfx:!0,bgm:!0,bgm_song:2,layout:"new",pfp_data:1,quote:""}}let Ie=null;ie.subscribe(s=>{Ie=s,Ie.name&&localStorage.setItem("meower_savedconfig",JSON.stringify({theme:Ie.theme,mode:Ie.mode}))});if(localStorage.getItem("meower_savedconfig")){const s=Ie,e=JSON.parse(localStorage.getItem("meower_savedconfig"));s.theme=e.theme,s.mode=e.mode,ie.set(s)}const Y=new Es;window.cljs=Y;Y.log("manager","started");let Tt=null,Ue=null,kt=null,$t=null,wt=null,ze=null;async function Vn(){Tt&&(Y.off(Tt),Ue=null),Ue&&(Y.off(Ue),Ue=null),kt&&(Y.off(kt),kt=null),$t&&(Y.off($t),$t=null),wt&&(Y.off(wt),wt=null),ze&&(clearInterval(ze),ze=null),Te.set(!1),ct.set(""),Y.once("connectionstart",()=>{Tt=Y.on("connected",()=>{Te.set(!1),ze=setInterval(()=>{Y.send({cmd:"ping",val:""})},1e4)}),Ue=Y.on("disconnected",s=>{Ae.set([]),s.reason!=="Intentional disconnect"&&Te.set(!0);let e=el();e.theme=Ie.theme,e.mode=Ie.mode,ie.set(e),ze&&(clearInterval(ze),ze=null)}),kt=Y.on("ulist",s=>{const e=s.val.split(";");e[e.length-1]===""&&e.pop(),Ae.set(e)}),$t=Y.on("direct",s=>{s.val.mode=="inbox_message"&&(Ie.unread_inbox=!0,ie.set(Ie))}),wt=Y.on("direct",s=>{(s.val=="E:018 | Account Banned"||s.val=="E:020 | Kicked"||s.val=="E:110 | ID conflict"||s.val=="E:119 | IP Blocked")&&(Y.disconnect(),ct.set(s.val),Te.set(!0),Y.log("manager","requested disconnect:",s.val))})}),Te.set(!1);try{return await Y.connect(zs)}catch(s){return Y.disconnect(),ct.set(s),Te.set(!0),Y.error("manager","conenction error:",s),s}}async function Wt(){return Y.ws?Y.ws.readyState!==1?(Y.log("manager","already disconnected or disconnecting, cancelling safe disconnect"),new Promise(s=>s())):(Y.log("manager","safely disconnecting"),new Promise(s=>{Ae.set([]),ie.set(el()),Ue&&(Y.off(Ue),Ue=null),ze&&(clearInterval(ze),ze=null),Y.once("disconnected",s),Y.disconnect(1e3,"Intentional disconnect")})):(Y.log("manager","websocket not present, cancelling safe disconnect"),new Promise(s=>s()))}async function ae(s){return Y.log("manager","meower request",s),We.set(!0),new Promise((e,t)=>{let l=null;const n=setTimeout(()=>{t("Timed out"),We.set(!1)},1e4),r=Y.sendListener({...s,listener:"listener_"+Math.floor(Math.random()*1e7)},a=>{a.cmd==="statuscode"?(Y.off(r),We.set(!1),clearTimeout(n),a.val==="I:100 | OK"?e(l):t(a.val)):a.cmd==="direct"&&(l=a.val)})})}async function De(){const s=Ie;return ae({cmd:"direct",val:{cmd:"update_config",val:{unread_inbox:s.unread_inbox,theme:s.theme,mode:s.mode,sfx:s.sfx,bgm:s.bgm,bgm_song:s.bgm_song,layout:s.layout,pfp_data:s.pfp_data,quote:s.quote}}})}var Ms=Object.freeze(Object.defineProperty({__proto__:null,link:Y,connect:Vn,disconnect:Wt,meowerRequest:ae,updateProfile:De},Symbol.toStringTag,{value:"Module"}));const Ee=ue({});let de;Ee.subscribe(s=>de=s);async function Mt(s){if(de[s]&&!de[s].temporary)return de[s];if(s==="Notification")return de[s]={pfp_data:101},Ee.set(de),de[s];if(s==="Announcement")return de[s]={pfp_data:102},Ee.set(de),de[s];if(s==="Server")return de[s]={pfp_data:102},Ee.set(de),de[s];de[s]={pfp_data:-1},Ee.set(de);try{const e=await fetch(`${xe}/users/${s}`);if(!e.ok)throw new Error("response code not OK; code "+e.status);const t=await e.json();de[s]=t,Ee.set(de)}catch(e){throw console.log(e),de[s]={error:!0,pfp_data:-2,temporary:!0},Ee.set(de),e}return de[s]}function Hl(s){let e,t,l=s[1]&&s[0].user!=="Notification"&&s[0].user!=="Announcement"&&Wl(s);function n(i,o){if(i[5].lvl>=1||i[0].user===i[5].name)return xs;if(!i[0].isvbot)return Is}let r=n(s),a=r&&r(s);return{c(){l&&l.c(),e=S(),a&&a.c(),t=qe()},m(i,o){l&&l.m(i,o),b(i,e,o),a&&a.m(i,o),b(i,t,o)},p(i,o){i[1]&&i[0].user!=="Notification"&&i[0].user!=="Announcement"?l?l.p(i,o):(l=Wl(i),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),r===(r=n(i))&&a?a.p(i,o):(a&&a.d(1),a=r&&r(i),a&&(a.c(),a.m(t.parentNode,t)))},d(i){l&&l.d(i),i&&h(e),a&&a.d(i),i&&h(t)}}}function Wl(s){let e,t,l;return{c(){e=_("button"),p(e,"class","circle join svelte-1tkixj9")},m(n,r){b(n,e,r),t||(l=T(e,"click",s[9]),t=!0)},p:P,d(n){n&&h(e),t=!1,l()}}}function Is(s){let e,t,l;return{c(){e=_("button"),p(e,"class","circle report svelte-1tkixj9")},m(n,r){b(n,e,r),t||(l=T(e,"click",s[11]),t=!0)},p:P,d(n){n&&h(e),t=!1,l()}}}function xs(s){let e,t,l;return{c(){e=_("button"),p(e,"class","circle close svelte-1tkixj9")},m(n,r){b(n,e,r),t||(l=T(e,"click",s[10]),t=!0)},p:P,d(n){n&&h(e),t=!1,l()}}}function Yl(s){let e;return{c(){e=_("i"),e.textContent="[BRIDGED]"},m(t,l){b(t,e,l)},d(t){t&&h(e)}}}function Kl(s){let e;return{c(){e=_("i"),e.textContent="[VERIFIED BOT]"},m(t,l){b(t,e,l)},d(t){t&&h(e)}}}function Fl(s){let e;return{c(){e=_("i"),e.textContent="[UNVERIFIED BOT]"},m(t,l){b(t,e,l)},d(t){t&&h(e)}}}function Gl(s){let e;return{c(){e=_("i"),e.textContent="[BOT OWNER]"},m(t,l){b(t,e,l)},d(t){t&&h(e)}}}function Ls(s){let e,t,l,n,r,a,i,o,c=s[0].user+"",u,f,m,k,v,$,g,w,C,E,y,O,L=s[0].content+"",B,W,Q,se,U=s[2]&&s[5].name&&s[6]!=="livechat"&&s[0].user!=="Server"&&Hl(s);r=new nt({props:{icon:s[7][s[0].user]?s[7][s[0].user].pfp_data:-3,alt:s[0].user+"'s profile picture",online:s[8].includes(s[0].user)}}),m=new Ps({props:{date:s[0].date}});let J=s[3]&&Yl(),Z=s[0].isvbot&&Kl(),R=s[0].isuvbot&&Fl(),N=s[0].ownsbot&&Gl();return{c(){e=_("div"),t=_("div"),U&&U.c(),l=S(),n=_("button"),x(r.$$.fragment),a=S(),i=_("div"),o=_("h2"),u=z(c),f=S(),x(m.$$.fragment),k=S(),J&&J.c(),v=S(),Z&&Z.c(),$=S(),R&&R.c(),g=S(),N&&N.c(),w=S(),C=_("img"),y=S(),O=_("p"),B=z(L),p(t,"class","settings-controls svelte-1tkixj9"),p(n,"class","pfp svelte-1tkixj9"),p(o,"class","creator svelte-1tkixj9"),p(i,"class","creator svelte-1tkixj9"),p(e,"class","post-header svelte-1tkixj9"),he(C.src,E="")||p(C,"src",E),p(C,"alt","hi"),p(C,"class","post-image-hide image_1 svelte-1tkixj9"),p(O,"class","post-content svelte-1tkixj9")},m(A,K){b(A,e,K),d(e,t),U&&U.m(t,null),d(e,l),d(e,n),M(r,n,null),d(e,a),d(e,i),d(i,o),d(o,u),d(i,f),M(m,i,null),d(i,k),J&&J.m(i,null),d(i,v),Z&&Z.m(i,null),d(i,$),R&&R.m(i,null),d(i,g),N&&N.m(i,null),b(A,w,K),b(A,C,K),s[13](C),b(A,y,K),b(A,O,K),d(O,B),W=!0,Q||(se=T(n,"click",s[12]),Q=!0)},p(A,K){A[2]&&A[5].name&&A[6]!=="livechat"&&A[0].user!=="Server"?U?U.p(A,K):(U=Hl(A),U.c(),U.m(t,null)):U&&(U.d(1),U=null);const V={};K&129&&(V.icon=A[7][A[0].user]?A[7][A[0].user].pfp_data:-3),K&1&&(V.alt=A[0].user+"'s profile picture"),K&257&&(V.online=A[8].includes(A[0].user)),r.$set(V),(!W||K&1)&&c!==(c=A[0].user+"")&&G(u,c);const _e={};K&1&&(_e.date=A[0].date),m.$set(_e),A[3]?J||(J=Yl(),J.c(),J.m(i,v)):J&&(J.d(1),J=null),A[0].isvbot?Z||(Z=Kl(),Z.c(),Z.m(i,$)):Z&&(Z.d(1),Z=null),A[0].isuvbot?R||(R=Fl(),R.c(),R.m(i,g)):R&&(R.d(1),R=null),A[0].ownsbot?N||(N=Gl(),N.c(),N.m(i,null)):N&&(N.d(1),N=null),(!W||K&1)&&L!==(L=A[0].content+"")&&G(B,L)},i(A){W||(j(r.$$.fragment,A),j(m.$$.fragment,A),W=!0)},o(A){q(r.$$.fragment,A),q(m.$$.fragment,A),W=!1},d(A){A&&h(e),U&&U.d(),I(r),I(m),J&&J.d(),Z&&Z.d(),R&&R.d(),N&&N.d(),A&&h(w),A&&h(C),s[13](null),A&&h(y),A&&h(O),Q=!1,se()}}}function Os(s){let e,t;return e=new re({props:{$$slots:{default:[Ls]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p(l,[n]){const r={};n&33279&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function Ts(s,e,t){let l,n,r,a;D(s,ie,C=>t(5,l=C)),D(s,Ce,C=>t(6,n=C)),D(s,Ee,C=>t(7,r=C)),D(s,Ae,C=>t(8,a=C));let{post:i={}}=e,{buttons:o=!0}=e,{input:c=null}=e,u=!1,f;function m(){if(!!i.user){if(i.user=="Discord"&&i.content.includes(":")&&t(3,u=!0),i.user=="Discord"&&i.content.includes(":")&&(t(0,i.user=i.content.split(": ")[0],i),t(0,i.content=i.content.slice(i.content.indexOf(": ")+1),i)),i.content.includes("[")&&i.content.includes("]")){var C=i.content.indexOf("["),E=i.content.indexOf("]"),y=i.content.slice(C+1,E);t(0,i.content=i.content.replace(i.content.slice(C,E+1),""),i);var O=y.split(": "),L=O[1],B=["go.meower.org","assets.meower.org","api.meower.org","cubeupload.com","imgbb.com","meower.org","media.tenor.com"];if(B.some(Q=>!!L.includes(Q))){var W=O[0];t(4,f.className="image_1",f),t(4,f.alt=W,f),t(4,f.src=L,f)}}Mt(i.user)}}Vt(m);const k=()=>{let C=c.value;const E=/^@\w+\s*/i,y="@"+i.user+" ";E.test(C)?t(1,c.value=C.trim().replace(E,y),c):t(1,c.value=y+C.trim(),c),c.focus()},v=()=>{if(Ve){ae({cmd:"direct",val:{cmd:"delete_post",val:i.post_id}});return}Et.set(i),ce.set("deletePost"),H.set(!0)},$=()=>{Et.set(i),ce.set("reportPost"),H.set(!0)},g=()=>{i.user==="Notification"||i.user==="Announcement"||i.user==="Server"||(Je.set(i.user),fe.set("profile"))};function w(C){Ne[C?"unshift":"push"](()=>{f=C,t(4,f)})}return s.$$set=C=>{"post"in C&&t(0,i=C.post),"buttons"in C&&t(2,o=C.buttons),"input"in C&&t(1,c=C.input)},[i,c,o,u,f,l,n,r,a,k,v,$,g,w]}class st extends te{constructor(e){super(),ee(this,e,Ts,Os,X,{post:0,buttons:2,input:1})}}function Rs(s){let e;return{c(){e=_("span"),e.innerHTML='<span class="circle circle1 svelte-idse3p"></span><span class="circle circle2 svelte-idse3p"></span><span class="circle circle3 svelte-idse3p"></span>',p(e,"class","loading svelte-idse3p")},m(t,l){b(t,e,l)},p:P,i:P,o:P,d(t){t&&h(e)}}}class ke extends te{constructor(e){super(),ee(this,e,null,Rs,X,{})}}let St={},ye={};Y.on("direct",s=>{if(s.val.state===100?Jl(s.val.chatid,s.val.u):s.val.chatid==="livechat"&&s.val.state===101&&Jl("home",s.val.u),s.val.type===1){if(!ye[s.val.post_origin])return;ye[s.val.post_origin]=ye[s.val.post_origin].filter(e=>e!==s.val.u),Lt.set(ye)}});function Jl(s,e){let t=new Date*1;St[s]||(St[s]={}),St[s][e]=t,ye[s]||(ye[s]=[]),ye[s].includes(e)||(ye[s].push(e),Lt.set(ye)),setTimeout(function(){Ns(s,e,t)},3e3)}function Ns(s,e,t){St[s][e]===t&&(ye[s]=ye[s].filter(l=>l!==e),Lt.set(ye))}let Lt=ue({});function Ql(s){let e,t;return e=new re({props:{$$slots:{default:[Ds]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p(l,n){const r={};n&17&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function As(s){let e,t,l=s[0].splice(s[0].length-1,1).join(", ")+"",n,r,a=s[0][s[0].length-1]+"",i,o;return{c(){e=_("span"),t=_("b"),n=z(l),r=z(" and "),i=z(a),o=z(" are typing..."),p(e,"class","text svelte-1u9lhqm")},m(c,u){b(c,e,u),d(e,t),d(t,n),d(t,r),d(t,i),d(e,o)},p(c,u){u&1&&l!==(l=c[0].splice(c[0].length-1,1).join(", ")+"")&&G(n,l),u&1&&a!==(a=c[0][c[0].length-1]+"")&&G(i,a)},d(c){c&&h(e)}}}function Us(s){let e;return{c(){e=_("span"),e.textContent="5 or more people are typing..",p(e,"class","text svelte-1u9lhqm")},m(t,l){b(t,e,l)},p:P,d(t){t&&h(e)}}}function Bs(s){let e,t,l=s[0][0]+"",n,r;return{c(){e=_("span"),t=_("b"),n=z(l),r=z(" is typing..."),p(e,"class","text svelte-1u9lhqm")},m(a,i){b(a,e,i),d(e,t),d(t,n),d(e,r)},p(a,i){i&1&&l!==(l=a[0][0]+"")&&G(n,l)},d(a){a&&h(e)}}}function Ds(s){let e,t,l,n,r,a,i;function o(f,m){return f[0].length===1?Bs:f[0].length>=5?Us:As}let c=o(s),u=c(s);return{c(){e=_("span"),t=_("span"),l=S(),n=_("span"),r=S(),a=_("span"),i=S(),u.c(),p(t,"class","circle circle1 svelte-1u9lhqm"),p(n,"class","circle circle2 svelte-1u9lhqm"),p(a,"class","circle circle3 svelte-1u9lhqm"),p(e,"class","loading svelte-1u9lhqm")},m(f,m){b(f,e,m),d(e,t),d(e,l),d(e,n),d(e,r),d(e,a),d(e,i),u.m(e,null)},p(f,m){c===(c=o(f))&&u?u.p(f,m):(u.d(1),u=c(f),u&&(u.c(),u.m(e,null)))},d(f){f&&h(e),u.d()}}}function Hs(s){let e,t,l=(s[1]==="home"||s[1]=="groupchat")&&s[0].length>0&&Ql(s);return{c(){l&&l.c(),e=qe()},m(n,r){l&&l.m(n,r),b(n,e,r),t=!0},p(n,[r]){(n[1]==="home"||n[1]=="groupchat")&&n[0].length>0?l?(l.p(n,r),r&3&&j(l,1)):(l=Ql(n),l.c(),j(l,1),l.m(e.parentNode,e)):l&&(le(),q(l,1,1,()=>{l=null}),ne())},i(n){t||(j(l),t=!0)},o(n){q(l),t=!1},d(n){l&&l.d(n),n&&h(e)}}}function Ws(s,e,t){let l,n,r;D(s,ie,i=>t(2,l=i)),D(s,Ce,i=>t(3,n=i)),D(s,fe,i=>t(1,r=i));let a=[];return Lt.subscribe(i=>{r==="home"&&t(0,a=i.home),r==="groupchat"&&t(0,a=i[n]),a===void 0&&t(0,a=[]),t(0,a=a.filter(o=>o!==l.name))}),[a,r]}class Xn extends te{constructor(e){super(),ee(this,e,Ws,Hs,X,{})}}const Rt=(...s)=>s.map(parseFloat).reduce((e,t)=>e+t,0),Ys=typeof document!="undefined"?!!document.documentElement.currentStyle:!1,Ks=(s,e)=>e.reduce((t,l)=>(t[l]=s[l],t),{}),Fs=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"];function Gs(s){const e=window.getComputedStyle(s);if(e===null)return null;let t=Ks(e,Fs);const{boxSizing:l}=t;if(l==="")return null;Ys&&l==="border-box"&&(t.width=Rt(t.width,t.borderRightWidth,t.borderLeftWidth,t.paddingRight,t.paddingLeft)+"px");const n=Rt(t.paddingBottom,t.paddingTop),r=Rt(t.borderBottomWidth,t.borderTopWidth);return{sizingStyle:t,paddingSize:n,borderSize:r}}const Js={"min-height":"0","max-height":"none",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"};function Vl(s){return Object.entries(Js).forEach(([e,t])=>s.style.setProperty(e,t,"important"))}let $e;const Qs=(s,e)=>{const t=s.scrollHeight;return e.sizingStyle.boxSizing==="border-box"?t+e.borderSize:t-e.paddingSize};function Vs(s,e){$e||($e=document.createElement("textarea"),$e.setAttribute("tab-index","-1"),$e.setAttribute("aria-hidden","true"),$e.setAttribute("rows","1"),Vl($e)),$e.parentNode===null&&document.body.appendChild($e);const{paddingSize:t,borderSize:l,sizingStyle:n}=s,{boxSizing:r}=n;Object.entries(n).forEach(([c,u])=>$e.style[c]=u),Vl($e),$e.value=e;let a=Qs($e,s);$e.value="x";let o=$e.scrollHeight-t;return r==="border-box"&&(o=o+t+l),Math.max(o,a)}function Zn(s){const e=()=>{const t=Gs(s);if(!t)return;const l=Vs(t,s.value||s.placeholder||"x");s.style.setProperty("height",`${l}px`,"important")};s.addEventListener("input",e),window.addEventListener("resize",e),e()}function tl(s){const e=s-1;return e*e*e+1}function es(s,{delay:e=0,duration:t=400,easing:l=It}={}){const n=+getComputedStyle(s).opacity;return{delay:e,duration:t,easing:l,css:r=>`opacity: ${r*n}`}}function Le(s,{delay:e=0,duration:t=400,easing:l=tl,x:n=0,y:r=0,opacity:a=0}={}){const i=getComputedStyle(s),o=+i.opacity,c=i.transform==="none"?"":i.transform,u=o*(1-a);return{delay:e,duration:t,easing:l,css:(f,m)=>`
			transform: ${c} translate(${(1-f)*n}px, ${(1-f)*r}px);
			opacity: ${o-u*m}`}}function Xl(s,{delay:e=0,duration:t=400,easing:l=tl,start:n=0,opacity:r=0}={}){const a=getComputedStyle(s),i=+a.opacity,o=a.transform==="none"?"":a.transform,c=1-n,u=i*(1-r);return{delay:e,duration:t,easing:l,css:(f,m)=>`
			transform: ${o} scale(${1-c*m});
			opacity: ${i-u*m}
		`}}function vt(s,{from:e,to:t},l={}){const n=getComputedStyle(s),r=n.transform==="none"?"":n.transform,[a,i]=n.transformOrigin.split(" ").map(parseFloat),o=e.left+e.width*a/t.width-(t.left+a),c=e.top+e.height*i/t.height-(t.top+i),{delay:u=0,duration:f=k=>Math.sqrt(k)*120,easing:m=tl}=l;return{delay:u,duration:ft(f)?f(Math.sqrt(o*o+c*c)):f,easing:m,css:(k,v)=>{const $=v*o,g=v*c,w=k+v*e.width/t.width,C=k+v*e.height/t.height;return`transform: ${r} translate(${$}px, ${g}px) scale(${w}, ${C});`}}}function Zl(s,e,t){const l=s.slice();return l[24]=e[t],l}function Xs(s){let e,t;return e=new re({props:{$$slots:{default:[Zs]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p(l,n){const r={};n&268435456&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function Zs(s){let e,t,l,n,r=s[27]+"",a;return{c(){e=_("h1"),e.textContent="Home",t=z(`\r
			Error loading posts. Please try again.\r
			`),l=_("pre"),n=_("code"),a=z(r)},m(i,o){b(i,e,o),b(i,t,o),b(i,l,o),d(l,n),d(n,a)},p:P,d(i){i&&h(e),i&&h(t),i&&h(l)}}}function er(s){let e,t,l,n,r,a,i,o,c,u,f,m;e=new re({props:{$$slots:{default:[tr]},$$scope:{ctx:s}}});let k=s[7].name&&tn(s);n=new Xn({});const v=[nr,lr],$=[];function g(y,O){return y[0].length<1?0:1}a=g(s),i=$[a]=v[a](s);const w=[ir,or],C=[];function E(y,O){return y[2]?0:y[3]&&y[3]>y[1]?1:-1}return~(u=E(s))&&(f=C[u]=w[u](s)),{c(){x(e.$$.fragment),t=S(),k&&k.c(),l=S(),x(n.$$.fragment),r=S(),i.c(),o=S(),c=_("div"),f&&f.c(),p(c,"class","center svelte-tgtdz3")},m(y,O){M(e,y,O),b(y,t,O),k&&k.m(y,O),b(y,l,O),M(n,y,O),b(y,r,O),$[a].m(y,O),b(y,o,O),b(y,c,O),~u&&C[u].m(c,null),m=!0},p(y,O){const L={};O&268435520&&(L.$$scope={dirty:O,ctx:y}),e.$set(L),y[7].name?k?k.p(y,O):(k=tn(y),k.c(),k.m(l.parentNode,l)):k&&(k.d(1),k=null);let B=a;a=g(y),a===B?$[a].p(y,O):(le(),q($[B],1,1,()=>{$[B]=null}),ne(),i=$[a],i?i.p(y,O):(i=$[a]=v[a](y),i.c()),j(i,1),i.m(o.parentNode,o));let W=u;u=E(y),u===W?~u&&C[u].p(y,O):(f&&(le(),q(C[W],1,1,()=>{C[W]=null}),ne()),~u?(f=C[u],f?f.p(y,O):(f=C[u]=w[u](y),f.c()),j(f,1),f.m(c,null)):f=null)},i(y){m||(j(e.$$.fragment,y),j(n.$$.fragment,y),j(i),j(f),m=!0)},o(y){q(e.$$.fragment,y),q(n.$$.fragment,y),q(i),q(f),m=!1},d(y){I(e,y),y&&h(t),k&&k.d(y),y&&h(l),I(n,y),y&&h(r),$[a].d(y),y&&h(o),y&&h(c),~u&&C[u].d()}}}function en(s){let e=" ",t,l,n=s[6].join(", ")+"",r,a;return{c(){t=z(e),l=z("("),r=z(n),a=z(")")},m(i,o){b(i,t,o),b(i,l,o),b(i,r,o),b(i,a,o)},p(i,o){o&64&&n!==(n=i[6].join(", ")+"")&&G(r,n)},d(i){i&&h(t),i&&h(l),i&&h(r),i&&h(a)}}}function tr(s){let e,t,l=s[6].length+"",n,r,a,i=s[6].length&&en(s);return{c(){e=_("h1"),e.textContent="Home",t=z(`\r
			There are currently `),n=z(l),r=z(" user(s) online"),i&&i.c(),a=z(".")},m(o,c){b(o,e,c),b(o,t,c),b(o,n,c),b(o,r,c),i&&i.m(o,c),b(o,a,c)},p(o,c){c&64&&l!==(l=o[6].length+"")&&G(n,l),o[6].length?i?i.p(o,c):(i=en(o),i.c(),i.m(a.parentNode,a)):i&&(i.d(1),i=null)},d(o){o&&h(e),o&&h(t),o&&h(n),o&&h(r),i&&i.d(o),o&&h(a)}}}function tn(s){let e,t,l,n,r,a,i,o,c,u;return{c(){e=_("form"),t=_("textarea"),n=S(),r=_("button"),r.textContent="Post",a=S(),i=_("div"),o=z(s[4]),p(t,"type","text"),p(t,"class","white svelte-tgtdz3"),p(t,"placeholder","Write something..."),p(t,"id","postinput"),p(t,"name","postinput"),p(t,"autocomplete","false"),p(t,"maxlength","360"),p(t,"rows","1"),p(r,"id","submitpost"),p(e,"class","createpost svelte-tgtdz3"),p(e,"autocomplete","off"),p(i,"class","post-errors svelte-tgtdz3")},m(f,m){b(f,e,m),d(e,t),s[12](t),d(e,n),d(e,r),b(f,a,m),b(f,i,m),d(i,o),c||(u=[Un(l=Zn.call(null,t)),T(t,"input",s[10]),T(t,"keydown",s[11]),T(e,"submit",be(s[13]))],c=!0)},p(f,m){m&16&&G(o,f[4])},d(f){f&&h(e),s[12](null),f&&h(a),f&&h(i),c=!1,oe(u)}}}function lr(s){let e=[],t=new Map,l,n,r=s[0];const a=i=>i[24].id;for(let i=0;i<r.length;i+=1){let o=Zl(s,r,i),c=a(o);t.set(c,e[i]=ln(c,o))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=qe()},m(i,o){for(let c=0;c<e.length;c+=1)e[c].m(i,o);b(i,l,o),n=!0},p(i,o){if(o&33){r=i[0],le();for(let c=0;c<e.length;c+=1)e[c].r();e=_t(e,o,a,1,i,r,t,l.parentNode,mt,ln,l,Zl);for(let c=0;c<e.length;c+=1)e[c].a();ne()}},i(i){if(!n){for(let o=0;o<r.length;o+=1)j(e[o]);n=!0}},o(i){for(let o=0;o<e.length;o+=1)q(e[o]);n=!1},d(i){for(let o=0;o<e.length;o+=1)e[o].d(i);i&&h(l)}}}function nr(s){let e;function t(r,a){return r[7].name?rr:sr}let l=t(s),n=l(s);return{c(){n.c(),e=qe()},m(r,a){n.m(r,a),b(r,e,a)},p(r,a){l!==(l=t(r))&&(n.d(1),n=l(r),n&&(n.c(),n.m(e.parentNode,e)))},i:P,o:P,d(r){n.d(r),r&&h(e)}}}function ln(s,e){let t,l,n,r,a,i=P,o;return l=new st({props:{post:e[24],input:e[5]}}),{key:s,first:null,c(){t=_("div"),x(l.$$.fragment),n=S(),this.first=t},m(c,u){b(c,t,u),M(l,t,null),d(t,n),o=!0},p(c,u){e=c;const f={};u&1&&(f.post=e[24]),u&32&&(f.input=e[5]),l.$set(f)},r(){a=t.getBoundingClientRect()},f(){pt(t),i(),lt(t,a)},a(){i(),i=dt(t,a,vt,{duration:250})},i(c){o||(j(l.$$.fragment,c),c&&Pe(()=>{r||(r=je(t,Le,{y:-50,duration:250},!0)),r.run(1)}),o=!0)},o(c){q(l.$$.fragment,c),c&&(r||(r=je(t,Le,{y:-50,duration:250},!1)),r.run(0)),o=!1},d(c){c&&h(t),I(l),c&&r&&r.end()}}}function sr(s){let e;return{c(){e=z("No posts here. Check back later!")},m(t,l){b(t,e,l)},d(t){t&&h(e)}}}function rr(s){let e;return{c(){e=z("No posts here. Check back later or be the first to post!")},m(t,l){b(t,e,l)},d(t){t&&h(e)}}}function or(s){let e,t,l;return{c(){e=_("button"),e.textContent="Load More",p(e,"class","load-more svelte-tgtdz3")},m(n,r){b(n,e,r),t||(l=T(e,"click",s[14]),t=!0)},p:P,i:P,o:P,d(n){n&&h(e),t=!1,l()}}}function ir(s){let e,t;return e=new ke({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p:P,i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function ar(s){let e,t,l;return t=new ke({}),{c(){e=_("div"),x(t.$$.fragment),p(e,"class","fullcenter svelte-tgtdz3")},m(n,r){b(n,e,r),M(t,e,null),l=!0},p:P,i(n){l||(j(t.$$.fragment,n),l=!0)},o(n){q(t.$$.fragment,n),l=!1},d(n){n&&h(e),I(t)}}}function cr(s){let e,t,l={ctx:s,current:null,token:null,hasCatch:!0,pending:ar,then:er,catch:Xs,error:27,blocks:[,,,]};return Ye(s[9](1),l),{c(){e=_("div"),l.block.c(),p(e,"class","home svelte-tgtdz3")},m(n,r){b(n,e,r),l.block.m(e,l.anchor=null),l.mount=()=>e,l.anchor=null,t=!0},p(n,[r]){s=n,Qe(l,s,r)},i(n){t||(j(l.block),t=!0)},o(n){for(let r=0;r<3;r+=1){const a=l.blocks[r];q(a)}t=!1},d(n){n&&h(e),l.block.d(),l.token=null,l=null}}}function ur(s,e,t){let l,n,r,a;D(s,Ae,U=>t(20,l=U)),D(s,ie,U=>t(7,n=U)),D(s,fe,U=>t(21,r=U)),D(s,zt,U=>t(8,a=U));let i=0,{posts:o=[]}=e,c=0,u=!1,f=null,m="",k=0,v,$,g,w;async function C(U){if(t(2,u=!0),U===void 0)t(0,o=[]);else{let J=U+Math.floor(k/25),Z=k%25;try{let R="home?autoget&page=";gt&&(R=encodeURIComponent(R));const N=await fetch(`${xe}${R}${J}`);if($=(await(await fetch("https://raw.githubusercontent.com/MeowerBots/BotList/main/verified-bots.txt")).text()).split(/\r?\n/),g=(await(await fetch("https://raw.githubusercontent.com/MeowerBots/BotList/main/unverified-bots.txt")).text()).split(/\r?\n/),w=(await(await fetch("https://raw.githubusercontent.com/MeowerBots/BotList/main/bot-owners.txt")).text()).split(/\r?\n/),!N.ok)throw new Error("Response code is not OK; code is "+N.status);const _e=await N.json();let pe=_e.autoget;pe.splice(0,Z),t(3,f=_e.pages);let Oe,rt;if(Z>0&&c<f){if(Oe=await fetch(`${xe}${R}${J+1}`),!N.ok)throw new Error("Overflow response code is not OK; code is "+N.status);rt=await Oe.json(),pe=pe.concat(rt.autoget.slice(0,Z))}for(const we of pe)o.push({id:i++,isvbot:$.includes(we.u),ownsbot:w.includes(we.u),isuvbot:g.includes(we.u),post_id:we.post_id,user:we.u,content:we.p,date:we.t.e});t(1,c=U)}catch(R){throw t(2,u=!1),R}}return t(0,o),t(2,u=!1),o}function E(U){o.unshift({id:i++,...U}),t(0,o)}function y(){Y.on("direct",U=>{if(r==="home"&&U.val.mode===1){if(U.val.post_origin!=="home")return;E({isvbot:$.includes(U.val.u),ownsbot:w.includes(U.val.u),isuvbot:g.includes(U.val.u),post_id:U.val._id,user:U.val.u,content:U.val.p,date:U.val.t.e}),k++,t(0,o),n.sfx&&U.val.u!==n.name&&Qn()}U.val.mode==="delete"&&t(0,o=o.filter(J=>J.post_id!==U.val.id))})}Y.ws.readyState===1?y():Y.ws.addEventListener("open",y);let O=l;Ae.subscribe(U=>{t(6,O=U)});const L=()=>{a+1500<new Date*1&&(zt.set(new Date*1),Y.send({cmd:"direct",val:{cmd:"set_chat_state",val:{chatid:"livechat",state:101}},listener:"typing_indicator"}))},B=U=>{U.key=="Enter"&&!Ve&&(U.preventDefault(),document.getElementById("submitpost").click())};function W(U){Ne[U?"unshift":"push"](()=>{v=U,t(5,v)})}const Q=U=>{if(t(4,m=""),!U.target[0].value.trim())return t(4,m="You cannot send an empty post!"),!1;We.set(!0),U.target[1].disabled=!0,Y.send({cmd:"direct",val:{cmd:"post_home",val:U.target[0].value},listener:"post_home"});const J=Y.on("statuscode",Z=>{Z.listener==="post_home"&&(Y.off(J),We.set(!1),U.target[1].disabled=!1,Z.val==="I:100 | OK"?(U.target[0].value="",U.target[0].rows="1",U.target[0].style.height="45px"):Z.val==="E:106 | Too many requests"?t(4,m="You're posting too fast!"):t(4,m="Unexpected "+Z.val+" error!"))});return!1},se=()=>C(c+1);return s.$$set=U=>{"posts"in U&&t(0,o=U.posts)},[o,c,u,f,m,v,O,n,a,C,L,B,W,Q,se]}class fr extends te{constructor(e){super(),ee(this,e,ur,cr,X,{posts:0})}}function nn(s,e,t){const l=s.slice();return l[10]=e[t],l}function dr(s){let e,t;return e=new re({props:{$$slots:{default:[pr]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p(l,n){const r={};n&16384&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function pr(s){let e,t,l,n,r=s[13]+"",a;return{c(){e=_("h1"),e.textContent="Inbox Messages",t=z(`\r
			Error loading messages. Please try again.\r
			`),l=_("pre"),n=_("code"),a=z(r)},m(i,o){b(i,e,o),b(i,t,o),b(i,l,o),d(l,n),d(n,a)},p:P,d(i){i&&h(e),i&&h(t),i&&h(l)}}}function mr(s){let e,t,l,n,r,a,i,o,c;e=new re({props:{$$slots:{default:[_r]},$$scope:{ctx:s}}});const u=[vr,gr],f=[];function m(g,w){return g[0].length<1?0:1}l=m(s),n=f[l]=u[l](s);const k=[br,hr],v=[];function $(g,w){return g[2]?0:g[3]&&g[3]>g[1]?1:-1}return~(i=$(s))&&(o=v[i]=k[i](s)),{c(){x(e.$$.fragment),t=S(),n.c(),r=S(),a=_("div"),o&&o.c(),p(a,"class","center svelte-1y77739")},m(g,w){M(e,g,w),b(g,t,w),f[l].m(g,w),b(g,r,w),b(g,a,w),~i&&v[i].m(a,null),c=!0},p(g,w){const C={};w&16384&&(C.$$scope={dirty:w,ctx:g}),e.$set(C);let E=l;l=m(g),l===E?f[l].p(g,w):(le(),q(f[E],1,1,()=>{f[E]=null}),ne(),n=f[l],n?n.p(g,w):(n=f[l]=u[l](g),n.c()),j(n,1),n.m(r.parentNode,r));let y=i;i=$(g),i===y?~i&&v[i].p(g,w):(o&&(le(),q(v[y],1,1,()=>{v[y]=null}),ne()),~i?(o=v[i],o?o.p(g,w):(o=v[i]=k[i](g),o.c()),j(o,1),o.m(a,null)):o=null)},i(g){c||(j(e.$$.fragment,g),j(n),j(o),c=!0)},o(g){q(e.$$.fragment,g),q(n),q(o),c=!1},d(g){I(e,g),g&&h(t),f[l].d(g),g&&h(r),g&&h(a),~i&&v[i].d()}}}function _r(s){let e,t;return{c(){e=_("h1"),e.textContent="Inbox Messages",t=z(`\r
			Here are your latest inbox messages. We will send announcements and moderator messages to here!`)},m(l,n){b(l,e,n),b(l,t,n)},p:P,d(l){l&&h(e),l&&h(t)}}}function gr(s){let e=[],t=new Map,l,n,r=s[0];const a=i=>i[10].id;for(let i=0;i<r.length;i+=1){let o=nn(s,r,i),c=a(o);t.set(c,e[i]=sn(c,o))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=qe()},m(i,o){for(let c=0;c<e.length;c+=1)e[c].m(i,o);b(i,l,o),n=!0},p(i,o){if(o&1){r=i[0],le();for(let c=0;c<e.length;c+=1)e[c].r();e=_t(e,o,a,1,i,r,t,l.parentNode,mt,sn,l,nn);for(let c=0;c<e.length;c+=1)e[c].a();ne()}},i(i){if(!n){for(let o=0;o<r.length;o+=1)j(e[o]);n=!0}},o(i){for(let o=0;o<e.length;o+=1)q(e[o]);n=!1},d(i){for(let o=0;o<e.length;o+=1)e[o].d(i);i&&h(l)}}}function vr(s){let e;return{c(){e=z("No messages yet. Check back later!")},m(t,l){b(t,e,l)},p:P,i:P,o:P,d(t){t&&h(e)}}}function sn(s,e){let t,l,n,r,a,i=P,o;return l=new st({props:{post:e[10]}}),{key:s,first:null,c(){t=_("div"),x(l.$$.fragment),n=S(),this.first=t},m(c,u){b(c,t,u),M(l,t,null),d(t,n),o=!0},p(c,u){e=c;const f={};u&1&&(f.post=e[10]),l.$set(f)},r(){a=t.getBoundingClientRect()},f(){pt(t),i(),lt(t,a)},a(){i(),i=dt(t,a,vt,{duration:250})},i(c){o||(j(l.$$.fragment,c),c&&Pe(()=>{r||(r=je(t,Le,{y:-50,duration:250},!0)),r.run(1)}),o=!0)},o(c){q(l.$$.fragment,c),c&&(r||(r=je(t,Le,{y:-50,duration:250},!1)),r.run(0)),o=!1},d(c){c&&h(t),I(l),c&&r&&r.end()}}}function hr(s){let e,t,l;return{c(){e=_("button"),e.textContent="Load More",p(e,"class","load-more svelte-1y77739")},m(n,r){b(n,e,r),t||(l=T(e,"click",s[5]),t=!0)},p:P,i:P,o:P,d(n){n&&h(e),t=!1,l()}}}function br(s){let e,t;return e=new ke({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p:P,i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function kr(s){let e,t,l;return t=new ke({}),{c(){e=_("div"),x(t.$$.fragment),p(e,"class","fullcenter svelte-1y77739")},m(n,r){b(n,e,r),M(t,e,null),l=!0},p:P,i(n){l||(j(t.$$.fragment,n),l=!0)},o(n){q(t.$$.fragment,n),l=!1},d(n){n&&h(e),I(t)}}}function $r(s){let e,t,l={ctx:s,current:null,token:null,hasCatch:!0,pending:kr,then:mr,catch:dr,error:13,blocks:[,,,]};return Ye(s[4](1),l),{c(){e=_("div"),l.block.c(),p(e,"class","messages svelte-1y77739")},m(n,r){b(n,e,r),l.block.m(e,l.anchor=null),l.mount=()=>e,l.anchor=null,t=!0},p(n,[r]){s=n,Qe(l,s,r)},i(n){t||(j(l.block),t=!0)},o(n){for(let r=0;r<3;r+=1){const a=l.blocks[r];q(a)}t=!1},d(n){n&&h(e),l.block.d(),l.token=null,l=null}}}let rn=0;function wr(s,e,t){let l,n;D(s,tt,k=>t(7,l=k)),D(s,ie,k=>t(8,n=k));let r=0,{posts:a=[]}=e,i=0,o=!1,c=null;async function u(k){if(F(ie,n.unread_inbox=!1,n),De(),t(2,o=!0),k===void 0)t(0,a=[]);else{let v=k+Math.floor(rn/25),$=rn%25;try{let g="inbox?autoget&page=";gt&&(g=encodeURIComponent(g));const w=await fetch(`${xe}${g}${v}`,{headers:l});if(!w.ok)throw new Error("Response code is not OK; code is "+w.status);const C=await w.json();let E=C.autoget;E.splice(0,$),t(3,c=C.pages);let y,O;$>0&&i<c;for(const L of E)L.u==="Server"?L.u="Announcement":L.u="Notification",a.push({id:r++,post_id:L.post_id,user:L.u,content:L.p,date:L.t.e});t(1,i=k)}catch(g){throw t(2,o=!1),g}}return t(0,a),t(2,o=!1),a}function f(){Y.on("direct",k=>{k.val.mode==="delete"&&t(0,a=a.filter(v=>v.post_id!==k.val.id))})}Y.ws.readyState===1?f():Y.ws.addEventListener("open",f);const m=()=>u(i+1);return s.$$set=k=>{"posts"in k&&t(0,a=k.posts)},[a,i,o,c,u,m]}class yr extends te{constructor(e){super(),ee(this,e,wr,$r,X,{posts:0})}}const Cr=s=>({}),on=s=>({});function Sr(s){let e,t,l,n,r,a,i,o,c,u;const f=s[4].header,m=Nt(f,s,s[3],on),k=s[4].default,v=Nt(k,s,s[3],null);return{c(){e=_("div"),t=S(),l=_("div"),m&&m.c(),n=S(),r=_("hr"),a=S(),v&&v.c(),p(e,"class","modal-background svelte-c5nskh"),p(l,"class","modal svelte-c5nskh"),p(l,"role","dialog"),p(l,"aria-modal","true")},m($,g){b($,e,g),b($,t,g),b($,l,g),m&&m.m(l,null),d(l,n),d(l,r),d(l,a),v&&v.m(l,null),s[5](l),o=!0,c||(u=[T(window,"keydown",s[2]),T(e,"click",s[1])],c=!0)},p($,[g]){m&&m.p&&(!o||g&8)&&Ut(m,f,$,$[3],o?At(f,$[3],g,Cr):Bt($[3]),on),v&&v.p&&(!o||g&8)&&Ut(v,k,$,$[3],o?At(k,$[3],g,null):Bt($[3]),null)},i($){o||(j(m,$),j(v,$),Pe(()=>{i||(i=je(l,Xl,{duration:200},!0)),i.run(1)}),o=!0)},o($){q(m,$),q(v,$),i||(i=je(l,Xl,{duration:200},!1)),i.run(0),o=!1},d($){$&&h(e),$&&h(t),$&&h(l),m&&m.d($),v&&v.d($),s[5](null),$&&i&&i.end(),c=!1,oe(u)}}}function jr(s,e,t){let{$$slots:l={},$$scope:n}=e;const r=vs(),a=()=>r("close");let i;const o=f=>{if(f.key==="Escape"){a();return}if(f.key==="Tab"){const m=i.querySelectorAll("*"),k=Array.from(m).filter($=>$.tabIndex>=0);let v=k.indexOf(document.activeElement);v===-1&&f.shiftKey&&(v=0),v+=k.length+(f.shiftKey?-1:1),v%=k.length,k[v].focus(),f.preventDefault()}},c=typeof document!="undefined"&&document.activeElement;c&&gs(()=>{c.focus()});function u(f){Ne[f?"unshift":"push"](()=>{i=f,t(0,i)})}return s.$$set=f=>{"$$scope"in f&&t(3,n=f.$$scope)},[i,a,o,n,l,u]}class me extends te{constructor(e){super(),ee(this,e,jr,Sr,X,{})}}function an(s,e,t){const l=s.slice();return l[17]=e[t],l}function qr(s){let e,t,l,n,r=[],a=new Map,i,o,c,u,f;e=new re({props:{$$slots:{default:[zr]},$$scope:{ctx:s}}}),l=new re({props:{$$slots:{default:[Er]},$$scope:{ctx:s}}});let m=s[0];const k=w=>w[17]._id;for(let w=0;w<m.length;w+=1){let C=an(s,m,w),E=k(C);a.set(E,r[w]=cn(E,C))}const v=[xr,Ir],$=[];function g(w,C){return w[3]?0:w[4]&&w[4]>w[2]?1:-1}return~(c=g(s))&&(u=$[c]=v[c](s)),{c(){x(e.$$.fragment),t=S(),x(l.$$.fragment),n=S();for(let w=0;w<r.length;w+=1)r[w].c();i=S(),o=_("div"),u&&u.c(),p(o,"class","center svelte-ruol0l")},m(w,C){M(e,w,C),b(w,t,C),M(l,w,C),b(w,n,C);for(let E=0;E<r.length;E+=1)r[E].m(w,C);b(w,i,C),b(w,o,C),~c&&$[c].m(o,null),f=!0},p(w,C){const E={};C&1048576&&(E.$$scope={dirty:C,ctx:w}),e.$set(E);const y={};if(C&1048576&&(y.$$scope={dirty:C,ctx:w}),l.$set(y),C&3){m=w[0],le();for(let L=0;L<r.length;L+=1)r[L].r();r=_t(r,C,k,1,w,m,a,i.parentNode,mt,cn,i,an);for(let L=0;L<r.length;L+=1)r[L].a();ne()}let O=c;c=g(w),c===O?~c&&$[c].p(w,C):(u&&(le(),q($[O],1,1,()=>{$[O]=null}),ne()),~c?(u=$[c],u?u.p(w,C):(u=$[c]=v[c](w),u.c()),j(u,1),u.m(o,null)):u=null)},i(w){if(!f){j(e.$$.fragment,w),j(l.$$.fragment,w);for(let C=0;C<m.length;C+=1)j(r[C]);j(u),f=!0}},o(w){q(e.$$.fragment,w),q(l.$$.fragment,w);for(let C=0;C<r.length;C+=1)q(r[C]);q(u),f=!1},d(w){I(e,w),w&&h(t),I(l,w),w&&h(n);for(let C=0;C<r.length;C+=1)r[C].d(w);w&&h(i),w&&h(o),~c&&$[c].d()}}}function Pr(s){let e,t,l;return t=new ke({}),{c(){e=_("div"),x(t.$$.fragment),p(e,"class","fullcenter svelte-ruol0l")},m(n,r){b(n,e,r),M(t,e,null),l=!0},p:P,i(n){l||(j(t.$$.fragment,n),l=!0)},o(n){q(t.$$.fragment,n),l=!1},d(n){n&&h(e),I(t)}}}function zr(s){let e,t,l,n,r,a;return{c(){e=_("h1"),e.textContent="Chats",t=z(`\r
			Here are your chats. Press the chat button to enter a chat.\r
			`),l=_("div"),n=_("button"),p(n,"class","circle plus svelte-ruol0l"),p(l,"class","settings-controls svelte-ruol0l")},m(i,o){b(i,e,o),b(i,t,o),b(i,l,o),d(l,n),r||(a=T(n,"click",s[8]),r=!0)},p:P,d(i){i&&h(e),i&&h(t),i&&h(l),r=!1,a()}}}function Er(s){let e,t,l,n,r,a,i;return{c(){e=_("div"),t=_("button"),l=S(),n=_("h1"),n.textContent="Livechat",r=z(`\r
			This is the public livechat. Messages in this chat don't save.`),p(t,"class","circle join svelte-ruol0l"),p(e,"class","settings-controls svelte-ruol0l")},m(o,c){b(o,e,c),d(e,t),b(o,l,c),b(o,n,c),b(o,r,c),a||(i=T(t,"click",s[9]),a=!0)},p:P,d(o){o&&h(e),o&&h(l),o&&h(n),o&&h(r),a=!1,i()}}}function Mr(s){let e,t,l,n,r,a,i=s[17].nickname+"",o,c,u=(s[17].members.length>100?s[17].members.slice(0,99).join(", ")+"...":s[17].members.join(", "))+"",f,m,k;function v(){return s[10](s[17])}function $(){return s[11](s[17])}return{c(){e=_("div"),t=_("button"),l=S(),n=_("button"),r=S(),a=_("h1"),o=z(i),c=z(`\r
                    Members: `),f=z(u),p(t,"class","circle close svelte-ruol0l"),p(n,"class","circle join svelte-ruol0l"),p(e,"class","settings-controls svelte-ruol0l")},m(g,w){b(g,e,w),d(e,t),d(e,l),d(e,n),b(g,r,w),b(g,a,w),d(a,o),b(g,c,w),b(g,f,w),m||(k=[T(t,"click",v),T(n,"click",$)],m=!0)},p(g,w){s=g,w&1&&i!==(i=s[17].nickname+"")&&G(o,i),w&1&&u!==(u=(s[17].members.length>100?s[17].members.slice(0,99).join(", ")+"...":s[17].members.join(", "))+"")&&G(f,u)},d(g){g&&h(e),g&&h(r),g&&h(a),g&&h(c),g&&h(f),m=!1,oe(k)}}}function cn(s,e){let t,l,n,r,a=P,i;return l=new re({props:{$$slots:{default:[Mr]},$$scope:{ctx:e}}}),{key:s,first:null,c(){t=_("div"),x(l.$$.fragment),this.first=t},m(o,c){b(o,t,c),M(l,t,null),i=!0},p(o,c){e=o;const u={};c&1048579&&(u.$$scope={dirty:c,ctx:e}),l.$set(u)},r(){r=t.getBoundingClientRect()},f(){pt(t),a(),lt(t,r)},a(){a(),a=dt(t,r,vt,{duration:250})},i(o){i||(j(l.$$.fragment,o),o&&Pe(()=>{n||(n=je(t,Le,{y:-50,duration:250},!0)),n.run(1)}),i=!0)},o(o){q(l.$$.fragment,o),o&&(n||(n=je(t,Le,{y:-50,duration:250},!1)),n.run(0)),i=!1},d(o){o&&h(t),I(l),o&&n&&n.end()}}}function Ir(s){let e,t,l;return{c(){e=_("button"),e.textContent="Load More",p(e,"class","load-more svelte-ruol0l")},m(n,r){b(n,e,r),t||(l=T(e,"click",s[12]),t=!0)},p:P,i:P,o:P,d(n){n&&h(e),t=!1,l()}}}function xr(s){let e,t;return e=new ke({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p:P,i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function un(s){let e,t;return e=new me({props:{$$slots:{default:[Or],header:[Lr]},$$scope:{ctx:s}}}),e.$on("close",s[15]),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p(l,n){const r={};n&1048675&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function Lr(s){let e;return{c(){e=_("h2"),e.textContent="Leave Chat",p(e,"slot","header")},m(t,l){b(t,e,l)},p:P,d(t){t&&h(e)}}}function Or(s){let e,t,l,n,r,a,i,o,c,u,f,m,k,v,$;return{c(){e=_("div"),t=_("span"),l=z("Are you sure you want to leave "),n=z(s[5]),r=z("?"),a=S(),i=_("br"),o=_("br"),c=S(),u=_("div"),f=_("button"),f.textContent="No",m=S(),k=_("button"),k.textContent="Yes",p(u,"class","modal-buttons"),p(e,"slot","default")},m(g,w){b(g,e,w),d(e,t),d(t,l),d(t,n),d(t,r),d(e,a),d(e,i),d(e,o),d(e,c),d(e,u),d(u,f),d(u,m),d(u,k),v||($=[T(f,"click",s[13]),T(k,"click",s[14])],v=!0)},p(g,w){w&32&&G(n,g[5])},d(g){g&&h(e),v=!1,oe($)}}}function Tr(s){let e,t,l,n,r;const a=[Pr,qr],i=[];function o(u,f){return u[3]?0:1}t=o(s),l=i[t]=a[t](s);let c=s[1]&&un(s);return{c(){e=_("div"),l.c(),n=S(),c&&c.c(),p(e,"class","chats svelte-ruol0l")},m(u,f){b(u,e,f),i[t].m(e,null),d(e,n),c&&c.m(e,null),r=!0},p(u,[f]){let m=t;t=o(u),t===m?i[t].p(u,f):(le(),q(i[m],1,1,()=>{i[m]=null}),ne(),l=i[t],l?l.p(u,f):(l=i[t]=a[t](u),l.c()),j(l,1),l.m(e,n)),u[1]?c?(c.p(u,f),f&2&&j(c,1)):(c=un(u),c.c(),j(c,1),c.m(e,null)):c&&(le(),q(c,1,1,()=>{c=null}),ne())},i(u){r||(j(l),j(c),r=!0)},o(u){q(l),q(c),r=!1},d(u){u&&h(e),i[t].d(),c&&c.d()}}}let fn=0;function Rr(s,e,t){let l,n;D(s,Fe,y=>t(5,l=y)),D(s,Ce,y=>t(6,n=y));let{chats:r=[]}=e,a=!1,i=0,o=!1,c=null;async function u(y){if(t(3,o=!0),y===void 0)t(0,r=[]);else{let O=y+Math.floor(fn/25);ae({cmd:"direct",val:{cmd:"get_chat_list",val:{page:O}}})}}function f(){Y.on("direct",y=>{if(y.val.mode==="chats"){let O=fn%25,L=y.val.payload.all_chats;L.splice(0,O),t(4,c=y.val.payload.pages),t(2,i=y.val.payload["page#"]),t(0,r=L),t(3,o=!1)}})}Y.ws.readyState===1?f():Y.ws.addEventListener("open",f),u(1);const m=()=>{ce.set("createChat"),H.set(!0)},k=()=>{Fe.set("Livechat"),Ce.set("livechat"),Ge.set([]),Ht.set(""),window.scrollTo(0,0),fe.set("blank"),Se().then(()=>fe.set("groupchat"))},v=y=>{Fe.set(y.nickname),Ce.set(y._id),t(1,a=!0)},$=y=>{Fe.set(y.nickname),Ce.set(y._id),Ge.set(y.members),Ht.set(y.owner),window.scrollTo(0,0),fe.set("blank"),Se().then(()=>fe.set("groupchat"))},g=()=>u(i+1),w=()=>{t(1,a=!1)},C=()=>{t(0,r=r.filter(y=>y._id!==n)),ae({cmd:"direct",val:{cmd:"leave_chat",val:n}}),t(1,a=!1)},E=()=>{t(1,a=!1)};return s.$$set=y=>{"chats"in y&&t(0,r=y.chats)},[r,a,i,o,c,l,n,u,m,k,v,$,g,w,C,E]}class Nr extends te{constructor(e){super(),ee(this,e,Rr,Tr,X,{chats:0})}}function Ar(s){let e,t,l,n,r;return{c(){e=_("div"),t=z("error loading member "),l=z(s[0]),n=z(": "),r=z(s[2]),p(e,"class","error svelte-zakp9s")},m(a,i){b(a,e,i),d(e,t),d(e,l),d(e,n),d(e,r)},p(a,i){i&1&&G(l,a[0]),i&4&&G(r,a[2])},i:P,o:P,d(a){a&&h(e)}}}function Ur(s){let e,t,l,n,r,a,i;return l=new nt({props:{icon:s[1],alt:s[0]+"'s profile picture",online:s[3].includes(s[0]),size:.5}}),{c(){e=_("div"),t=_("div"),x(l.$$.fragment),n=S(),r=_("p"),a=z(s[0]),p(t,"class","member-pfp"),p(r,"class","member-name svelte-zakp9s"),p(e,"class","member svelte-zakp9s")},m(o,c){b(o,e,c),d(e,t),M(l,t,null),d(e,n),d(e,r),d(r,a),i=!0},p(o,c){const u={};c&2&&(u.icon=o[1]),c&1&&(u.alt=o[0]+"'s profile picture"),c&9&&(u.online=o[3].includes(o[0])),l.$set(u),(!i||c&1)&&G(a,o[0])},i(o){i||(j(l.$$.fragment,o),i=!0)},o(o){q(l.$$.fragment,o),i=!1},d(o){o&&h(e),I(l)}}}function Br(s){let e,t,l,n;const r=[Ur,Ar],a=[];function i(o,c){return o[2]?1:0}return e=i(s),t=a[e]=r[e](s),{c(){t.c(),l=qe()},m(o,c){a[e].m(o,c),b(o,l,c),n=!0},p(o,[c]){let u=e;e=i(o),e===u?a[e].p(o,c):(le(),q(a[u],1,1,()=>{a[u]=null}),ne(),t=a[e],t?t.p(o,c):(t=a[e]=r[e](o),t.c()),j(t,1),t.m(l.parentNode,l))},i(o){n||(j(t),n=!0)},o(o){q(t),n=!1},d(o){a[e].d(o),o&&h(l)}}}function Dr(s,e,t){let l;D(s,Ae,o=>t(3,l=o));let{member:n=""}=e,r=0,a;async function i(){try{t(1,r=(await Mt(n)).pfp_data)}catch(o){t(2,a=o),t(1,r=-2)}}return Vt(i),s.$$set=o=>{"member"in o&&t(0,n=o.member)},[n,r,a,l]}class Hr extends te{constructor(e){super(),ee(this,e,Dr,Br,X,{member:0})}}function dn(s,e,t){const l=s.slice();return l[27]=e[t],l}function pn(s,e,t){const l=s.slice();return l[30]=e[t],l}function Wr(s){let e,t;return e=new re({props:{$$slots:{default:[Yr]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p(l,n){const r={};n[1]&8&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function Yr(s){let e,t,l,n,r=s[33]+"",a;return{c(){e=_("h1"),e.textContent=`${Fe}`,t=z(`\r
			Error loading posts. Please try again.\r
			`),l=_("pre"),n=_("code"),a=z(r)},m(i,o){b(i,e,o),b(i,t,o),b(i,l,o),d(l,n),d(n,a)},p:P,d(i){i&&h(e),i&&h(t),i&&h(l)}}}function Kr(s){let e,t,l,n,r,a,i,o,c,u,f;t=new re({props:{$$slots:{default:[Fr]},$$scope:{ctx:s}}});let m=s[9].name&&_n(s);r=new Xn({});const k=[Jr,Gr],v=[];function $(w,C){return w[0].length<1?0:1}i=$(s),o=v[i]=k[i](s);let g=s[6]&&s[8]!=="livechat"&&vn(s);return{c(){e=_("div"),x(t.$$.fragment),l=S(),m&&m.c(),n=S(),x(r.$$.fragment),a=S(),o.c(),c=S(),g&&g.c(),u=qe(),p(e,"id","chat"),p(e,"class","svelte-1pjlcg7")},m(w,C){b(w,e,C),M(t,e,null),d(e,l),m&&m.m(e,null),d(e,n),M(r,e,null),d(e,a),v[i].m(e,null),b(w,c,C),g&&g.m(w,C),b(w,u,C),f=!0},p(w,C){const E={};C[0]&448|C[1]&8&&(E.$$scope={dirty:C,ctx:w}),t.$set(E),w[9].name?m?m.p(w,C):(m=_n(w),m.c(),m.m(e,n)):m&&(m.d(1),m=null);let y=i;i=$(w),i===y?v[i].p(w,C):(le(),q(v[y],1,1,()=>{v[y]=null}),ne(),o=v[i],o?o.p(w,C):(o=v[i]=k[i](w),o.c()),j(o,1),o.m(e,null)),w[6]&&w[8]!=="livechat"?g?(g.p(w,C),C[0]&320&&j(g,1)):(g=vn(w),g.c(),j(g,1),g.m(u.parentNode,u)):g&&(le(),q(g,1,1,()=>{g=null}),ne())},i(w){f||(j(t.$$.fragment,w),j(r.$$.fragment,w),j(o),j(g),f=!0)},o(w){q(t.$$.fragment,w),q(r.$$.fragment,w),q(o),q(g),f=!1},d(w){w&&h(e),I(t),m&&m.d(),I(r),v[i].d(),w&&h(c),g&&g.d(w),w&&h(u)}}}function mn(s){let e,t,l,n;return{c(){e=_("div"),t=_("button"),p(t,"class","circle members"),p(e,"class","settings-controls svelte-1pjlcg7")},m(r,a){b(r,e,a),d(e,t),l||(n=T(t,"click",s[13]),l=!0)},p:P,d(r){r&&h(e),l=!1,n()}}}function Fr(s){let e,t,l,n,r,a,i=s[8]!=="livechat"&&mn(s);return{c(){e=_("h1"),t=z(s[7]),l=z(`\r
				Chat ID: `),n=z(s[8]),r=S(),i&&i.c(),a=qe()},m(o,c){b(o,e,c),d(e,t),b(o,l,c),b(o,n,c),b(o,r,c),i&&i.m(o,c),b(o,a,c)},p(o,c){c[0]&128&&G(t,o[7]),c[0]&256&&G(n,o[8]),o[8]!=="livechat"?i?i.p(o,c):(i=mn(o),i.c(),i.m(a.parentNode,a)):i&&(i.d(1),i=null)},d(o){o&&h(e),o&&h(l),o&&h(n),o&&h(r),i&&i.d(o),o&&h(a)}}}function _n(s){let e,t,l,n,r,a,i,o,c,u;return{c(){e=_("form"),t=_("textarea"),n=S(),r=_("button"),r.textContent="Post",a=S(),i=_("div"),o=z(s[4]),p(t,"type","text"),p(t,"class","white svelte-1pjlcg7"),p(t,"placeholder","Write something..."),p(t,"id","postinput"),p(t,"name","postinput"),p(t,"autocomplete","false"),p(t,"maxlength","360"),p(t,"rows","1"),p(r,"id","submitpost"),p(e,"class","createpost svelte-1pjlcg7"),p(e,"autocomplete","off"),p(i,"class","post-errors svelte-1pjlcg7")},m(f,m){b(f,e,m),d(e,t),s[16](t),d(e,n),d(e,r),b(f,a,m),b(f,i,m),d(i,o),c||(u=[Un(l=Zn.call(null,t)),T(t,"input",s[14]),T(t,"keydown",s[15]),T(e,"submit",be(s[17]))],c=!0)},p(f,m){m[0]&16&&G(o,f[4])},d(f){f&&h(e),s[16](null),f&&h(a),f&&h(i),c=!1,oe(u)}}}function Gr(s){let e=[],t=new Map,l,n,r,a,i,o=s[0];const c=k=>k[30].id;for(let k=0;k<o.length;k+=1){let v=pn(s,o,k),$=c(v);t.set($,e[k]=gn($,v))}const u=[Vr,Qr],f=[];function m(k,v){return k[2]?0:k[3]&&k[3]>k[1]?1:-1}return~(r=m(s))&&(a=f[r]=u[r](s)),{c(){for(let k=0;k<e.length;k+=1)e[k].c();l=S(),n=_("div"),a&&a.c(),p(n,"class","center svelte-1pjlcg7")},m(k,v){for(let $=0;$<e.length;$+=1)e[$].m(k,v);b(k,l,v),b(k,n,v),~r&&f[r].m(n,null),i=!0},p(k,v){if(v[0]&33){o=k[0],le();for(let g=0;g<e.length;g+=1)e[g].r();e=_t(e,v,c,1,k,o,t,l.parentNode,mt,gn,l,pn);for(let g=0;g<e.length;g+=1)e[g].a();ne()}let $=r;r=m(k),r===$?~r&&f[r].p(k,v):(a&&(le(),q(f[$],1,1,()=>{f[$]=null}),ne()),~r?(a=f[r],a?a.p(k,v):(a=f[r]=u[r](k),a.c()),j(a,1),a.m(n,null)):a=null)},i(k){if(!i){for(let v=0;v<o.length;v+=1)j(e[v]);j(a),i=!0}},o(k){for(let v=0;v<e.length;v+=1)q(e[v]);q(a),i=!1},d(k){for(let v=0;v<e.length;v+=1)e[v].d(k);k&&h(l),k&&h(n),~r&&f[r].d()}}}function Jr(s){let e;function t(r,a){return r[9].name?Zr:Xr}let l=t(s),n=l(s);return{c(){n.c(),e=qe()},m(r,a){n.m(r,a),b(r,e,a)},p(r,a){l!==(l=t(r))&&(n.d(1),n=l(r),n&&(n.c(),n.m(e.parentNode,e)))},i:P,o:P,d(r){n.d(r),r&&h(e)}}}function gn(s,e){let t,l,n,r,a=P,i;return l=new st({props:{post:e[30],input:e[5]}}),{key:s,first:null,c(){t=_("div"),x(l.$$.fragment),this.first=t},m(o,c){b(o,t,c),M(l,t,null),i=!0},p(o,c){e=o;const u={};c[0]&1&&(u.post=e[30]),c[0]&32&&(u.input=e[5]),l.$set(u)},r(){r=t.getBoundingClientRect()},f(){pt(t),a(),lt(t,r)},a(){a(),a=dt(t,r,vt,{duration:250})},i(o){i||(j(l.$$.fragment,o),o&&Pe(()=>{n||(n=je(t,Le,{y:-50,duration:250},!0)),n.run(1)}),i=!0)},o(o){q(l.$$.fragment,o),o&&(n||(n=je(t,Le,{y:-50,duration:250},!1)),n.run(0)),i=!1},d(o){o&&h(t),I(l),o&&n&&n.end()}}}function Qr(s){let e,t,l;return{c(){e=_("button"),e.textContent="Load More",p(e,"class","load-more svelte-1pjlcg7")},m(n,r){b(n,e,r),t||(l=T(e,"click",s[18]),t=!0)},p:P,i:P,o:P,d(n){n&&h(e),t=!1,l()}}}function Vr(s){let e,t;return e=new ke({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p:P,i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function Xr(s){let e;return{c(){e=z("No posts here. Check back later!")},m(t,l){b(t,e,l)},d(t){t&&h(e)}}}function Zr(s){let e;return{c(){e=z("No posts here. Check back later or be the first to post!")},m(t,l){b(t,e,l)},d(t){t&&h(e)}}}function vn(s){let e,t,l,n,r,a,i,o,c,u,f,m=s[11],k=[];for(let $=0;$<m.length;$+=1)k[$]=hn(dn(s,m,$));const v=$=>q(k[$],1,1,()=>{k[$]=null});return{c(){e=_("div"),t=_("div");for(let $=0;$<k.length;$+=1)k[$].c();l=S(),n=_("div"),r=_("h2"),r.textContent="Members",a=S(),i=_("div"),o=_("button"),p(t,"id","members-inner"),p(t,"class","svelte-1pjlcg7"),p(r,"class","members-title svelte-1pjlcg7"),p(o,"class","circle plus"),p(i,"class","settings-controls svelte-1pjlcg7"),p(n,"class","top svelte-1pjlcg7"),p(e,"id","members"),p(e,"class","svelte-1pjlcg7")},m($,g){b($,e,g),d(e,t);for(let w=0;w<k.length;w+=1)k[w].m(t,null);d(e,l),d(e,n),d(n,r),d(n,a),d(n,i),d(i,o),c=!0,u||(f=T(o,"click",s[20]),u=!0)},p($,g){if(g[0]&2048){m=$[11];let w;for(w=0;w<m.length;w+=1){const C=dn($,m,w);k[w]?(k[w].p(C,g),j(k[w],1)):(k[w]=hn(C),k[w].c(),j(k[w],1),k[w].m(t,null))}for(le(),w=m.length;w<k.length;w+=1)v(w);ne()}},i($){if(!c){for(let g=0;g<m.length;g+=1)j(k[g]);c=!0}},o($){k=k.filter(Boolean);for(let g=0;g<k.length;g+=1)q(k[g]);c=!1},d($){$&&h(e),Jt(k,$),u=!1,f()}}}function hn(s){let e,t,l,n,r,a;t=new Hr({props:{member:s[27]}});function i(){return s[19](s[27])}return{c(){e=_("button"),x(t.$$.fragment),l=S(),p(e,"class","member-button svelte-1pjlcg7")},m(o,c){b(o,e,c),M(t,e,null),d(e,l),n=!0,r||(a=T(e,"click",i),r=!0)},p(o,c){s=o;const u={};c[0]&2048&&(u.member=s[27]),t.$set(u)},i(o){n||(j(t.$$.fragment,o),n=!0)},o(o){q(t.$$.fragment,o),n=!1},d(o){o&&h(e),I(t),r=!1,a()}}}function eo(s){let e,t,l;return t=new ke({}),{c(){e=_("div"),x(t.$$.fragment),p(e,"class","fullcenter svelte-1pjlcg7")},m(n,r){b(n,e,r),M(t,e,null),l=!0},p:P,i(n){l||(j(t.$$.fragment,n),l=!0)},o(n){q(t.$$.fragment,n),l=!1},d(n){n&&h(e),I(t)}}}function to(s){let e,t,l={ctx:s,current:null,token:null,hasCatch:!0,pending:eo,then:Kr,catch:Wr,error:33,blocks:[,,,]};return Ye(s[12](1),l),{c(){e=_("div"),l.block.c(),p(e,"class","groupchat svelte-1pjlcg7")},m(n,r){b(n,e,r),l.block.m(e,l.anchor=null),l.mount=()=>e,l.anchor=null,t=!0},p(n,r){s=n,Qe(l,s,r)},i(n){t||(j(l.block),t=!0)},o(n){for(let r=0;r<3;r+=1){const a=l.blocks[r];q(a)}t=!1},d(n){n&&h(e),l.block.d(),l.token=null,l=null}}}function lo(s,e,t){let l,n,r,a,i,o,c;D(s,Fe,R=>t(7,l=R)),D(s,Ce,R=>t(8,n=R)),D(s,fe,R=>t(23,r=R)),D(s,ie,R=>t(9,a=R)),D(s,tt,R=>t(24,i=R)),D(s,zt,R=>t(10,o=R)),D(s,Ge,R=>t(11,c=R));let u=0,{posts:f=[]}=e,m=0,k=!1,v=null,$="",g,w=0,C=!0;async function E(R){if(n==="livechat"){ae({cmd:"direct",val:{cmd:"set_chat_state",val:{state:1,chatid:n}}});return}if(t(2,k=!0),R===void 0)t(0,f=[]);else{let N=R+Math.floor(w/25),A=w%25;try{let K=`posts/${n}?autoget&page=`;gt&&(K=encodeURIComponent(K));const V=await fetch(`${xe}${K}${N}`,{headers:i});if(!V.ok)throw new Error("Response code is not OK; code is "+V.status);const _e=await V.json();let pe=_e.autoget;pe.splice(0,A),t(3,v=_e.pages);let Oe,rt;if(A>0&&m<v){if(Oe=await fetch(`${xe}${K}${N+1}`),!V.ok)throw new Error("Overflow response code is not OK; code is "+V.status);rt=await Oe.json(),pe=pe.concat(rt.autoget.slice(0,A))}for(const we of pe)f.push({id:u++,post_id:we.post_id,user:we.u,content:we.p,date:we.t.e});t(1,m=R)}catch(K){throw t(2,k=!1),K}}return ae({cmd:"direct",val:{cmd:"set_chat_state",val:{state:1,chatid:n}}}),t(0,f),t(2,k=!1),f}function y(R){f.unshift({id:u++,...R}),t(0,f)}function O(){Y.on("direct",R=>{if(r==="groupchat"&&R.val.state===2){if(R.val.post_origin!==n)return;y({post_id:R.val._id,user:R.val.u,content:R.val.p,date:R.val.t.e}),w++,t(0,f),a.sfx&&R.val.u!==a.name&&Qn()}if(r==="groupchat"&&R.val.state===0){if(R.val.chatid!==n)return;y({post_id:u++,user:"Server",content:`${R.val.u} left ${l}.`,date:new Date().getTime()/1e3})}if(r==="groupchat"&&R.val.state===1){if(R.val.chatid!==n)return;y({post_id:u++,user:"Server",content:`${R.val.u} joined ${l}!`,date:new Date().getTime()/1e3})}R.val.mode==="delete"&&t(0,f=f.filter(N=>N.post_id!==R.val.id))})}Y.ws.readyState===1?O():Y.ws.addEventListener("open",O);const L=()=>{t(6,C=!C)},B=()=>{o+1500<new Date*1&&(zt.set(new Date*1),Y.send({cmd:"direct",val:{cmd:"set_chat_state",val:{chatid:n,state:100}},listener:"typing_indicator"}))},W=R=>{R.key=="Enter"&&!Ve&&(R.preventDefault(),document.getElementById("submitpost").click())};function Q(R){Ne[R?"unshift":"push"](()=>{g=R,t(5,g)})}const se=R=>{if(t(4,$=""),!R.target[0].value.trim())return t(4,$="You cannot send an empty post!"),!1;We.set(!0),R.target[1].disabled=!0,Y.send({cmd:"direct",val:{cmd:"post_chat",val:{p:R.target[0].value,chatid:n}},listener:"post_chat"});const N=Y.on("statuscode",A=>{A.listener==="post_chat"&&(Y.off(N),We.set(!1),R.target[1].disabled=!1,A.val==="I:100 | OK"?(R.target[0].value="",R.target[0].rows="1",R.target[0].style.height="45px"):A.val==="E:106 | Too many requests"?t(4,$="You're posting too fast!"):t(4,$="Unexpected "+A.val+" error!"))});return!1},U=()=>E(m+1),J=R=>{ce.set("GC_Member"),H.set(!0),Zt.set(R)},Z=()=>{ce.set("AddMember"),H.set(!0)};return s.$$set=R=>{"posts"in R&&t(0,f=R.posts)},[f,m,k,v,$,g,C,l,n,a,o,c,E,L,B,W,Q,se,U,J,Z]}class ts extends te{constructor(e){super(),ee(this,e,lo,to,X,{posts:0},null,[-1,-1])}}const Yt={0:"User",1:"Low-level Moderator",2:"Moderator",3:"Administrator",4:"Sysadmin"};function bn(s,e,t){const l=s.slice();return l[14]=e[t],l}function no(s){let e,t,l,n;return e=new re({props:{$$slots:{default:[so]},$$scope:{ctx:s}}}),l=new re({props:{$$slots:{default:[ro]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment),t=S(),x(l.$$.fragment)},m(r,a){M(e,r,a),b(r,t,a),M(l,r,a),n=!0},p(r,a){const i={};a&262156&&(i.$$scope={dirty:a,ctx:r}),e.$set(i);const o={};a&262144&&(o.$$scope={dirty:a,ctx:r}),l.$set(o)},i(r){n||(j(e.$$.fragment,r),j(l.$$.fragment,r),n=!0)},o(r){q(e.$$.fragment,r),q(l.$$.fragment,r),n=!1},d(r){I(e,r),r&&h(t),I(l,r)}}}function so(s){let e,t,l,n,r,a,i,o,c=s[3].includes(s[2])?"Online":"Offline",u,f,m,k;return t=new nt({props:{online:s[3].includes(s[2]),icon:-2,alt:s[2]+"'s profile picture",size:1.4}}),{c(){e=_("div"),x(t.$$.fragment),l=S(),n=_("div"),r=_("h1"),a=z(s[2]),i=S(),o=_("div"),u=z(c),f=S(),m=_("div"),m.textContent="Unknown",p(r,"class","profile-username svelte-7yc5pd"),p(o,"class","profile-active svelte-7yc5pd"),p(m,"class","profile-role svelte-7yc5pd"),p(n,"class","profile-header-info svelte-7yc5pd"),p(e,"class","profile-header svelte-7yc5pd")},m(v,$){b(v,e,$),M(t,e,null),d(e,l),d(e,n),d(n,r),d(r,a),d(n,i),d(n,o),d(o,u),d(n,f),d(n,m),k=!0},p(v,$){const g={};$&12&&(g.online=v[3].includes(v[2])),$&4&&(g.alt=v[2]+"'s profile picture"),t.$set(g),(!k||$&4)&&G(a,v[2]),(!k||$&12)&&c!==(c=v[3].includes(v[2])?"Online":"Offline")&&G(u,c)},i(v){k||(j(t.$$.fragment,v),k=!0)},o(v){q(t.$$.fragment,v),k=!1},d(v){v&&h(e),I(t)}}}function ro(s){let e,t,l,n,r=s[17]+"",a,i,o,c;return{c(){e=_("h2"),e.textContent="Error",t=z(`\r
			We couldn't get this user's profile info.\r
			`),l=_("pre"),n=_("code"),a=z(r),i=z(`\r
			Try again. If this issue persists,\r
			`),o=_("a"),o.textContent="create an issue on Meower Svelte's issue tracker",c=z(" with the error code shown above."),p(o,"href","https://github.com/Meower-Media-Co/Meower-Svelte/issues/new")},m(u,f){b(u,e,f),b(u,t,f),b(u,l,f),d(l,n),d(n,a),b(u,i,f),b(u,o,f),b(u,c,f)},p:P,d(u){u&&h(e),u&&h(t),u&&h(l),u&&h(i),u&&h(o),u&&h(c)}}}function oo(s){let e,t,l,n,r,a,i,o,c,u,f,m,k,v;e=new re({props:{$$slots:{default:[io]},$$scope:{ctx:s}}});let $=s[13].quote&&ao(s);const g=[fo,uo],w=[];function C(y,O){return y[0]?0:y[2]===y[1].name?1:-1}~(n=C(s))&&(r=w[n]=g[n](s));let E=s[1].name&&s[2]!==s[1].name&&$n(s);return{c(){x(e.$$.fragment),t=S(),$&&$.c(),l=S(),r&&r.c(),a=S(),i=_("button"),i.textContent="View recent posts",o=S(),c=_("button"),c.textContent="Add To Chat",u=S(),E&&E.c(),f=qe(),p(i,"class","long svelte-7yc5pd"),p(i,"title","View Recent Posts"),p(c,"class","long svelte-7yc5pd"),c.disabled=!0},m(y,O){M(e,y,O),b(y,t,O),$&&$.m(y,O),b(y,l,O),~n&&w[n].m(y,O),b(y,a,O),b(y,i,O),b(y,o,O),b(y,c,O),b(y,u,O),E&&E.m(y,O),b(y,f,O),m=!0,k||(v=T(i,"click",s[10]),k=!0)},p(y,O){const L={};O&262158&&(L.$$scope={dirty:O,ctx:y}),e.$set(L),y[13].quote&&$.p(y,O);let B=n;n=C(y),n===B?~n&&w[n].p(y,O):(r&&(le(),q(w[B],1,1,()=>{w[B]=null}),ne()),~n?(r=w[n],r?r.p(y,O):(r=w[n]=g[n](y),r.c()),j(r,1),r.m(a.parentNode,a)):r=null),y[1].name&&y[2]!==y[1].name?E?E.p(y,O):(E=$n(y),E.c(),E.m(f.parentNode,f)):E&&(E.d(1),E=null)},i(y){m||(j(e.$$.fragment,y),j($),j(r),m=!0)},o(y){q(e.$$.fragment,y),q($),q(r),m=!1},d(y){I(e,y),y&&h(t),$&&$.d(y),y&&h(l),~n&&w[n].d(y),y&&h(a),y&&h(i),y&&h(o),y&&h(c),y&&h(u),E&&E.d(y),y&&h(f),k=!1,v()}}}function io(s){let e,t,l,n,r,a=s[13]._id+"",i,o,c,u=s[3].includes(s[13]._id)?"Online":"Offline",f,m,k,v=(Yt[s[13].lvl]||"Unknown")+"",$,g;return t=new nt({props:{online:s[3].includes(s[13]._id),icon:s[2]===s[1].name?s[1].pfp_data:s[13].pfp_data,alt:s[13]._id+"'s profile picture",size:1.4}}),{c(){e=_("div"),x(t.$$.fragment),l=S(),n=_("div"),r=_("h1"),i=z(a),o=S(),c=_("div"),f=z(u),m=S(),k=_("div"),$=z(v),p(r,"class","profile-username svelte-7yc5pd"),p(c,"class","profile-active svelte-7yc5pd"),p(k,"class","profile-role svelte-7yc5pd"),p(n,"class","profile-header-info svelte-7yc5pd"),p(e,"class","profile-header svelte-7yc5pd")},m(w,C){b(w,e,C),M(t,e,null),d(e,l),d(e,n),d(n,r),d(r,i),d(n,o),d(n,c),d(c,f),d(n,m),d(n,k),d(k,$),g=!0},p(w,C){const E={};C&8&&(E.online=w[3].includes(w[13]._id)),C&6&&(E.icon=w[2]===w[1].name?w[1].pfp_data:w[13].pfp_data),t.$set(E),(!g||C&8)&&u!==(u=w[3].includes(w[13]._id)?"Online":"Offline")&&G(f,u)},i(w){g||(j(t.$$.fragment,w),g=!0)},o(w){q(t.$$.fragment,w),g=!1},d(w){w&&h(e),I(t)}}}function ao(s){let e,t;return e=new re({props:{$$slots:{default:[co]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p(l,n){const r={};n&262144&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function co(s){let e,t,l,n,r,a=s[13].quote+"",i,o;return{c(){e=_("h3"),e.textContent="Quote",t=S(),l=_("p"),n=z('"'),r=_("i"),i=z(a),o=z('"')},m(c,u){b(c,e,u),b(c,t,u),b(c,l,u),d(l,n),d(l,r),d(r,i),d(l,o)},p:P,d(c){c&&h(e),c&&h(t),c&&h(l)}}}function uo(s){let e,t,l,n=s[13].quote?"Update Quote":"Set Quote",r,a,i;return{c(){e=_("button"),e.textContent="Change Profile Picture",t=S(),l=_("button"),r=z(n),p(e,"class","long svelte-7yc5pd"),p(e,"title","Change Profile Picture"),p(l,"class","long svelte-7yc5pd"),p(l,"title",s[13].quote?"Update Quote":"Set Quote")},m(o,c){b(o,e,c),b(o,t,c),b(o,l,c),d(l,r),a||(i=[T(e,"click",s[8]),T(l,"click",s[9])],a=!0)},p:P,i:P,o:P,d(o){o&&h(e),o&&h(t),o&&h(l),a=!1,oe(i)}}}function fo(s){let e,t;return e=new re({props:{$$slots:{default:[po]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p(l,n){const r={};n&262147&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function kn(s){let e,t,l,n,r;t=new nt({props:{online:!1,icon:s[14],alt:"Profile picture "+s[14]}});function a(){return s[7](s[14])}return{c(){e=_("span"),x(t.$$.fragment),p(e,"class","pfp svelte-7yc5pd"),ge(e,"selected",s[1].pfp_data===s[14])},m(i,o){b(i,e,o),M(t,e,null),l=!0,n||(r=T(e,"click",a),n=!0)},p(i,o){s=i,o&18&&ge(e,"selected",s[1].pfp_data===s[14])},i(i){l||(j(t.$$.fragment,i),l=!0)},o(i){q(t.$$.fragment,i),l=!1},d(i){i&&h(e),I(t),n=!1,r()}}}function po(s){let e,t,l,n,r=s[4],a=[];for(let o=0;o<r.length;o+=1)a[o]=kn(bn(s,r,o));const i=o=>q(a[o],1,1,()=>{a[o]=null});return{c(){e=_("h2"),e.textContent="Profile Picture",t=S(),l=_("div");for(let o=0;o<a.length;o+=1)a[o].c();p(l,"id","pfp-list"),p(l,"class","svelte-7yc5pd")},m(o,c){b(o,e,c),b(o,t,c),b(o,l,c);for(let u=0;u<a.length;u+=1)a[u].m(l,null);n=!0},p(o,c){if(c&83){r=o[4];let u;for(u=0;u<r.length;u+=1){const f=bn(o,r,u);a[u]?(a[u].p(f,c),j(a[u],1)):(a[u]=kn(f),a[u].c(),j(a[u],1),a[u].m(l,null))}for(le(),u=r.length;u<a.length;u+=1)i(u);ne()}},i(o){if(!n){for(let c=0;c<r.length;c+=1)j(a[c]);n=!0}},o(o){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)q(a[c]);n=!1},d(o){o&&h(e),o&&h(t),o&&h(l),Jt(a,o)}}}function $n(s){let e,t,l;return{c(){e=_("button"),e.textContent="Report User",p(e,"class","long svelte-7yc5pd"),p(e,"title","Report User")},m(n,r){b(n,e,r),t||(l=T(e,"click",s[11]),t=!0)},p:P,d(n){n&&h(e),t=!1,l()}}}function mo(s){let e,t,l;return t=new ke({}),{c(){e=_("div"),x(t.$$.fragment),p(e,"class","fullcenter svelte-7yc5pd")},m(n,r){b(n,e,r),M(t,e,null),l=!0},p:P,i(n){l||(j(t.$$.fragment,n),l=!0)},o(n){q(t.$$.fragment,n),l=!1},d(n){n&&h(e),I(t)}}}function _o(s){let e,t,l={ctx:s,current:null,token:null,hasCatch:!0,pending:mo,then:oo,catch:no,value:13,error:17,blocks:[,,,]};return Ye(s[5](),l),{c(){e=_("div"),l.block.c(),p(e,"class","OtherProfile")},m(n,r){b(n,e,r),l.block.m(e,l.anchor=null),l.mount=()=>e,l.anchor=null,t=!0},p(n,[r]){s=n,Qe(l,s,r)},i(n){t||(j(l.block),t=!0)},o(n){for(let r=0;r<3;r+=1){const a=l.blocks[r];q(a)}t=!1},d(n){n&&h(e),l.block.d(),l.token=null,l=null}}}function go(s,e,t){let l,n,r,a;D(s,ie,g=>t(1,l=g)),D(s,Ee,g=>t(12,n=g)),D(s,Je,g=>t(2,r=g)),D(s,Ae,g=>t(3,a=g));const i=new Array(34).fill().map((g,w)=>w+1);let o=!1;async function c(){let g=`users/${r}`;gt&&(g=encodeURIComponent(g));const w=await fetch(`${xe}${g}`);if(!w.ok)throw new Error("Response code is not OK; code is "+w.status);return await w.json()}function u(){if(n[l.name]){const g=n;delete g[l.name],Ee.set(g)}De()}return[o,l,r,a,i,c,u,g=>{t(0,o=!1),F(ie,l.pfp_data=g,l),u()},()=>t(0,o=!0),()=>{ce.set("setQuote"),H.set(!0)},()=>{window.scrollTo(0,0),fe.set("blank"),Se().then(()=>fe.set("recent"))},()=>{ce.set("reportUser"),H.set(!0)}]}class vo extends te{constructor(e){super(),ee(this,e,go,_o,X,{})}}function wn(s,e,t){const l=s.slice();return l[9]=e[t],l}function ho(s){let e,t;return e=new re({props:{$$slots:{default:[bo]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p(l,n){const r={};n&8208&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function bo(s){let e,t,l,n,r,a,i=s[12]+"",o;return{c(){e=_("h1"),t=z(s[4]),l=z("'s Recent Posts"),n=z(`\r
			Error loading posts. Please try again.\r
			`),r=_("pre"),a=_("code"),o=z(i)},m(c,u){b(c,e,u),d(e,t),d(e,l),b(c,n,u),b(c,r,u),d(r,a),d(a,o)},p(c,u){u&16&&G(t,c[4])},d(c){c&&h(e),c&&h(n),c&&h(r)}}}function ko(s){let e,t,l,n,r,a,i,o,c;e=new re({props:{$$slots:{default:[$o]},$$scope:{ctx:s}}});const u=[yo,wo],f=[];function m(g,w){return g[0].length<1?0:1}l=m(s),n=f[l]=u[l](s);const k=[So,Co],v=[];function $(g,w){return g[2]?0:g[3]&&g[3]>g[1]?1:-1}return~(i=$(s))&&(o=v[i]=k[i](s)),{c(){x(e.$$.fragment),t=S(),n.c(),r=S(),a=_("div"),o&&o.c(),p(a,"class","center svelte-1wbtcfa")},m(g,w){M(e,g,w),b(g,t,w),f[l].m(g,w),b(g,r,w),b(g,a,w),~i&&v[i].m(a,null),c=!0},p(g,w){const C={};w&8208&&(C.$$scope={dirty:w,ctx:g}),e.$set(C);let E=l;l=m(g),l===E?f[l].p(g,w):(le(),q(f[E],1,1,()=>{f[E]=null}),ne(),n=f[l],n?n.p(g,w):(n=f[l]=u[l](g),n.c()),j(n,1),n.m(r.parentNode,r));let y=i;i=$(g),i===y?~i&&v[i].p(g,w):(o&&(le(),q(v[y],1,1,()=>{v[y]=null}),ne()),~i?(o=v[i],o?o.p(g,w):(o=v[i]=k[i](g),o.c()),j(o,1),o.m(a,null)):o=null)},i(g){c||(j(e.$$.fragment,g),j(n),j(o),c=!0)},o(g){q(e.$$.fragment,g),q(n),q(o),c=!1},d(g){I(e,g),g&&h(t),f[l].d(g),g&&h(r),g&&h(a),~i&&v[i].d()}}}function $o(s){let e,t,l,n,r,a;return{c(){e=_("h1"),t=z(s[4]),l=z("'s Recent Posts"),n=z(`\r
			Here are `),r=z(s[4]),a=z("'s recent posts.")},m(i,o){b(i,e,o),d(e,t),d(e,l),b(i,n,o),b(i,r,o),b(i,a,o)},p(i,o){o&16&&G(t,i[4]),o&16&&G(r,i[4])},d(i){i&&h(e),i&&h(n),i&&h(r),i&&h(a)}}}function wo(s){let e=[],t=new Map,l,n,r=s[0];const a=i=>i[9].id;for(let i=0;i<r.length;i+=1){let o=wn(s,r,i),c=a(o);t.set(c,e[i]=yn(c,o))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=qe()},m(i,o){for(let c=0;c<e.length;c+=1)e[c].m(i,o);b(i,l,o),n=!0},p(i,o){if(o&1){r=i[0],le();for(let c=0;c<e.length;c+=1)e[c].r();e=_t(e,o,a,1,i,r,t,l.parentNode,mt,yn,l,wn);for(let c=0;c<e.length;c+=1)e[c].a();ne()}},i(i){if(!n){for(let o=0;o<r.length;o+=1)j(e[o]);n=!0}},o(i){for(let o=0;o<e.length;o+=1)q(e[o]);n=!1},d(i){for(let o=0;o<e.length;o+=1)e[o].d(i);i&&h(l)}}}function yo(s){let e,t;return{c(){e=z(s[4]),t=z(" hasn't made any posts yet.")},m(l,n){b(l,e,n),b(l,t,n)},p(l,n){n&16&&G(e,l[4])},i:P,o:P,d(l){l&&h(e),l&&h(t)}}}function yn(s,e){let t,l,n,r,a,i=P,o;return l=new st({props:{post:e[9]}}),{key:s,first:null,c(){t=_("div"),x(l.$$.fragment),n=S(),this.first=t},m(c,u){b(c,t,u),M(l,t,null),d(t,n),o=!0},p(c,u){e=c;const f={};u&1&&(f.post=e[9]),l.$set(f)},r(){a=t.getBoundingClientRect()},f(){pt(t),i(),lt(t,a)},a(){i(),i=dt(t,a,vt,{duration:250})},i(c){o||(j(l.$$.fragment,c),c&&Pe(()=>{r||(r=je(t,Le,{y:-50,duration:250},!0)),r.run(1)}),o=!0)},o(c){q(l.$$.fragment,c),c&&(r||(r=je(t,Le,{y:-50,duration:250},!1)),r.run(0)),o=!1},d(c){c&&h(t),I(l),c&&r&&r.end()}}}function Co(s){let e,t,l;return{c(){e=_("button"),e.textContent="Load More",p(e,"class","load-more svelte-1wbtcfa")},m(n,r){b(n,e,r),t||(l=T(e,"click",s[6]),t=!0)},p:P,i:P,o:P,d(n){n&&h(e),t=!1,l()}}}function So(s){let e,t;return e=new ke({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p:P,i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function jo(s){let e,t,l;return t=new ke({}),{c(){e=_("div"),x(t.$$.fragment),p(e,"class","fullcenter svelte-1wbtcfa")},m(n,r){b(n,e,r),M(t,e,null),l=!0},p:P,i(n){l||(j(t.$$.fragment,n),l=!0)},o(n){q(t.$$.fragment,n),l=!1},d(n){n&&h(e),I(t)}}}function qo(s){let e,t,l={ctx:s,current:null,token:null,hasCatch:!0,pending:jo,then:ko,catch:ho,error:12,blocks:[,,,]};return Ye(s[5](1),l),{c(){e=_("div"),l.block.c(),p(e,"class","posts svelte-1wbtcfa")},m(n,r){b(n,e,r),l.block.m(e,l.anchor=null),l.mount=()=>e,l.anchor=null,t=!0},p(n,[r]){s=n,Qe(l,s,r)},i(n){t||(j(l.block),t=!0)},o(n){for(let r=0;r<3;r+=1){const a=l.blocks[r];q(a)}t=!1},d(n){n&&h(e),l.block.d(),l.token=null,l=null}}}let Cn=0;function Po(s,e,t){let l;D(s,Je,m=>t(4,l=m));let n=0,{posts:r=[]}=e,a=0,i=!1,o=null;async function c(m){if(t(2,i=!0),m===void 0)t(0,r=[]);else{let k=m+Math.floor(Cn/25),v=Cn%25;try{let $=`users/${l}/posts?autoget&page=`;gt&&($=encodeURIComponent($));const g=await fetch(`${xe}${$}${k}`);if(!g.ok)throw new Error("Response code is not OK; code is "+g.status);const w=await g.json();let C=w.autoget;C.splice(0,v),t(3,o=w.pages);let E,y;v>0&&a<o;for(const O of C)r.push({id:n++,post_id:O.post_id,user:O.u,content:O.p,date:O.t.e});t(1,a=m)}catch($){throw t(2,i=!1),$}}return t(0,r),t(2,i=!1),r}function u(){Y.on("direct",m=>{m.val.mode==="delete"&&t(0,r=r.filter(k=>k.post_id!==m.val.id))})}Y.ws.readyState===1?u():Y.ws.addEventListener("open",u);const f=()=>c(a+1);return s.$$set=m=>{"posts"in m&&t(0,r=m.posts)},[r,a,i,o,l,c,f]}class zo extends te{constructor(e){super(),ee(this,e,Po,qo,X,{posts:0})}}function Eo(s){let e,t;return{c(){e=_("h1"),e.textContent="Settings",t=z(`\r
	You can change your settings here. These will save to your account, so they will carry over into other clients.`)},m(l,n){b(l,e,n),b(l,t,n)},p:P,d(l){l&&h(e),l&&h(t)}}}function Mo(s){let e,t,l,n,r,a=s[0].layout+"",i,o,c,u;return{c(){e=_("div"),t=_("button"),l=S(),n=_("h2"),n.textContent="Layout",r=z(`\r
	The layout is currently set to `),i=z(a),o=z("."),p(t,"class","circle settings svelte-1undfiq"),p(e,"class","settings-controls svelte-1undfiq")},m(f,m){b(f,e,m),d(e,t),b(f,l,m),b(f,n,m),b(f,r,m),b(f,i,m),b(f,o,m),c||(u=T(t,"click",s[3]),c=!0)},p(f,m){m&1&&a!==(a=f[0].layout+"")&&G(i,a)},d(f){f&&h(e),f&&h(l),f&&h(n),f&&h(r),f&&h(i),f&&h(o),c=!1,u()}}}function Io(s){let e,t,l,n,r,a=s[0].theme+"",i,o,c,u;return{c(){e=_("div"),t=_("button"),l=S(),n=_("h2"),n.textContent="Theme",r=z(`\r
	The theme is currently set to `),i=z(a),o=z("."),p(t,"class","circle settings svelte-1undfiq"),p(e,"class","settings-controls svelte-1undfiq")},m(f,m){b(f,e,m),d(e,t),b(f,l,m),b(f,n,m),b(f,r,m),b(f,i,m),b(f,o,m),c||(u=T(t,"click",s[4]),c=!0)},p(f,m){m&1&&a!==(a=f[0].theme+"")&&G(i,a)},d(f){f&&h(e),f&&h(l),f&&h(n),f&&h(r),f&&h(i),f&&h(o),c=!1,u()}}}function xo(s){let e,t,l,n,r,a,i=s[0].mode?"disabled":"enabled",o,c,u,f;return{c(){e=_("div"),t=_("input"),n=S(),r=_("h2"),r.textContent="Dark Mode",a=z(`\r
	Dark mode is currently `),o=z(i),c=z("."),p(t,"type","checkbox"),t.checked=l=!s[0].mode,p(t,"class","svelte-1undfiq"),p(e,"class","settings-controls svelte-1undfiq")},m(m,k){b(m,e,k),d(e,t),b(m,n,k),b(m,r,k),b(m,a,k),b(m,o,k),b(m,c,k),u||(f=T(t,"change",s[5]),u=!0)},p(m,k){k&1&&l!==(l=!m[0].mode)&&(t.checked=l),k&1&&i!==(i=m[0].mode?"disabled":"enabled")&&G(o,i)},d(m){m&&h(e),m&&h(n),m&&h(r),m&&h(a),m&&h(o),m&&h(c),u=!1,f()}}}function Lo(s){let e,t,l,n,r,a,i=s[0].sfx?"enabled":"disabled",o,c,u,f;return{c(){e=_("div"),t=_("input"),n=S(),r=_("h2"),r.textContent="Sound Effects",a=z(`\r
	Sound effects are currently `),o=z(i),c=z("."),p(t,"type","checkbox"),t.checked=l=s[0].sfx,p(t,"class","svelte-1undfiq"),p(e,"class","settings-controls svelte-1undfiq")},m(m,k){b(m,e,k),d(e,t),b(m,n,k),b(m,r,k),b(m,a,k),b(m,o,k),b(m,c,k),u||(f=T(t,"change",s[6]),u=!0)},p(m,k){k&1&&l!==(l=m[0].sfx)&&(t.checked=l),k&1&&i!==(i=m[0].sfx?"enabled":"disabled")&&G(o,i)},d(m){m&&h(e),m&&h(n),m&&h(r),m&&h(a),m&&h(o),m&&h(c),u=!1,f()}}}function Sn(s){let e,t,l,n;return e=new re({props:{$$slots:{default:[Oo]},$$scope:{ctx:s}}}),l=new re({props:{$$slots:{default:[To]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment),t=S(),x(l.$$.fragment)},m(r,a){M(e,r,a),b(r,t,a),M(l,r,a),n=!0},p(r,a){const i={};a&518&&(i.$$scope={dirty:a,ctx:r}),e.$set(i);const o={};a&518&&(o.$$scope={dirty:a,ctx:r}),l.$set(o)},i(r){n||(j(e.$$.fragment,r),j(l.$$.fragment,r),n=!0)},o(r){q(e.$$.fragment,r),q(l.$$.fragment,r),n=!1},d(r){I(e,r),r&&h(t),I(l,r)}}}function Oo(s){let e,t,l,n,r,a,i;return{c(){e=_("div"),t=_("button"),l=S(),n=_("h2"),n.textContent="Change Password",r=z(`\r
	Change your account password.`),p(t,"class","circle settings svelte-1undfiq"),p(e,"class","settings-controls svelte-1undfiq")},m(o,c){b(o,e,c),d(e,t),b(o,l,c),b(o,n,c),b(o,r,c),a||(i=T(t,"click",s[7]),a=!0)},p:P,d(o){o&&h(e),o&&h(l),o&&h(n),o&&h(r),a=!1,i()}}}function To(s){let e,t,l,n,r,a,i;return{c(){e=_("div"),t=_("button"),l=S(),n=_("h2"),n.textContent="Delete Account",r=z(`\r
	Permanently delete your Meower account. THIS CANNOT BE UNDONE.`),p(t,"class","circle settings svelte-1undfiq"),p(e,"class","settings-controls svelte-1undfiq")},m(o,c){b(o,e,c),d(e,t),b(o,l,c),b(o,n,c),b(o,r,c),a||(i=T(t,"click",s[8]),a=!0)},p:P,d(o){o&&h(e),o&&h(l),o&&h(n),o&&h(r),a=!1,i()}}}function Ro(s){let e,t,l,n,r,a,i,o,c,u,f,m,k;e=new re({props:{$$slots:{default:[Eo]},$$scope:{ctx:s}}}),l=new re({props:{$$slots:{default:[Mo]},$$scope:{ctx:s}}}),r=new re({props:{$$slots:{default:[Io]},$$scope:{ctx:s}}}),i=new re({props:{$$slots:{default:[xo]},$$scope:{ctx:s}}}),c=new re({props:{$$slots:{default:[Lo]},$$scope:{ctx:s}}});let v=s[0].name&&Sn(s);return{c(){x(e.$$.fragment),t=S(),x(l.$$.fragment),n=S(),x(r.$$.fragment),a=S(),x(i.$$.fragment),o=S(),x(c.$$.fragment),u=S(),v&&v.c(),f=S(),m=_("div"),p(m,"class","eee")},m($,g){M(e,$,g),b($,t,g),M(l,$,g),b($,n,g),M(r,$,g),b($,a,g),M(i,$,g),b($,o,g),M(c,$,g),b($,u,g),v&&v.m($,g),b($,f,g),b($,m,g),k=!0},p($,[g]){const w={};g&512&&(w.$$scope={dirty:g,ctx:$}),e.$set(w);const C={};g&513&&(C.$$scope={dirty:g,ctx:$}),l.$set(C);const E={};g&513&&(E.$$scope={dirty:g,ctx:$}),r.$set(E);const y={};g&513&&(y.$$scope={dirty:g,ctx:$}),i.$set(y);const O={};g&513&&(O.$$scope={dirty:g,ctx:$}),c.$set(O),$[0].name?v?(v.p($,g),g&1&&j(v,1)):(v=Sn($),v.c(),j(v,1),v.m(f.parentNode,f)):v&&(le(),q(v,1,1,()=>{v=null}),ne())},i($){k||(j(e.$$.fragment,$),j(l.$$.fragment,$),j(r.$$.fragment,$),j(i.$$.fragment,$),j(c.$$.fragment,$),j(v),k=!0)},o($){q(e.$$.fragment,$),q(l.$$.fragment,$),q(r.$$.fragment,$),q(i.$$.fragment,$),q(c.$$.fragment,$),q(v),k=!1},d($){I(e,$),$&&h(t),I(l,$),$&&h(n),I(r,$),$&&h(a),I(i,$),$&&h(o),I(c,$),$&&h(u),v&&v.d($),$&&h(f),$&&h(m)}}}function No(s,e,t){let l,n,r;return D(s,ie,m=>t(0,l=m)),D(s,ce,m=>t(1,n=m)),D(s,H,m=>t(2,r=m)),[l,n,r,()=>{const m=l;m.layout=m.layout==="new"?"old":"new",ie.set(m),De()},()=>{const m=l;m.theme=m.theme==="orange"?"blue":"orange",ie.set(m),De()},()=>{const m=l;m.mode=!m.mode,ie.set(m),De()},()=>{const m=l;m.sfx=!m.sfx,ie.set(m),De()},()=>{F(ce,n="changePassword",n),F(H,r=!0,r)},()=>{F(ce,n="deleteAccount",n),F(H,r=!0,r)}]}class Ao extends te{constructor(e){super(),ee(this,e,No,Ro,X,{})}}var ls="./assets/meowy.93c25f40.svg";function jn(s,e,t){const l=s.slice();return l[1]=e[t],l}function qn(s){let e,t;return{c(){e=_("img"),p(e,"class","cat svelte-vuknl4"),p(e,"alt","MEOW"),p(e,"title","MEOW"),he(e.src,t=ls)||p(e,"src",t),p(e,"height","100"),Be(e,"left",(s[1].x||0)+"vw",!1),Be(e,"top",(s[1].y||0)+"vh",!1),Be(e,"animation-delay",-(s[1].offset||0)+"s",!1),Be(e,"animation-duration",s[1].time+"s",!1)},m(l,n){b(l,e,n)},p:P,d(l){l&&h(e)}}}function Uo(s){let e,t=s[0],l=[];for(let n=0;n<t.length;n+=1)l[n]=qn(jn(s,t,n));return{c(){e=_("div");for(let n=0;n<l.length;n+=1)l[n].c();p(e,"class","cats svelte-vuknl4")},m(n,r){b(n,e,r);for(let a=0;a<l.length;a+=1)l[a].m(e,null)},p(n,[r]){if(r&1){t=n[0];let a;for(a=0;a<t.length;a+=1){const i=jn(n,t,a);l[a]?l[a].p(i,r):(l[a]=qn(i),l[a].c(),l[a].m(e,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=t.length}},i:P,o:P,d(n){n&&h(e),Jt(l,n)}}}function Bo(s){return[new Array(100).fill({}).map(t=>({x:Math.random()*100,y:Math.random()*100,offset:Math.random()*15,time:5+Math.random()*10}))]}class Do extends te{constructor(e){super(),ee(this,e,Bo,Uo,X,{})}}function Ho(s){let e,t,l,n,r;return n=new Do({}),{c(){e=_("div"),t=_("div"),t.textContent="GROUP CAT 2.0!!!!",l=S(),x(n.$$.fragment),p(t,"class","message svelte-w78hki")},m(a,i){b(a,e,i),d(e,t),d(e,l),M(n,e,null),r=!0},p:P,i(a){r||(j(n.$$.fragment,a),r=!0)},o(a){q(n.$$.fragment,a),r=!1},d(a){a&&h(e),I(n)}}}class Wo extends te{constructor(e){super(),ee(this,e,null,Ho,X,{})}}function Yo(s){let e,t;return{c(){e=_("h1"),e.textContent="Search",t=z(`\r
        Surf Meower By looking at Posts, Users and Stats.`)},m(l,n){b(l,e,n),b(l,t,n)},p:P,d(l){l&&h(e),l&&h(t)}}}function Ko(s){let e,t,l,n;return{c(){e=_("div"),e.innerHTML='<button class="circle search" disabled=""></button>',t=S(),l=_("h1"),l.textContent="Search Users",n=z(`\r
        Find all the legit users, Memes and Namesnipes.`),p(e,"class","settings-controls svelte-1we54ik")},m(r,a){b(r,e,a),b(r,t,a),b(r,l,a),b(r,n,a)},p:P,d(r){r&&h(e),r&&h(t),r&&h(l),r&&h(n)}}}function Fo(s){let e,t,l,n;return{c(){e=_("div"),e.innerHTML='<button class="circle search" disabled=""></button>',t=S(),l=_("h1"),l.textContent="Search Posts",n=z(`\r
        Find posts and maybe even relics.`),p(e,"class","settings-controls svelte-1we54ik")},m(r,a){b(r,e,a),b(r,t,a),b(r,l,a),b(r,n,a)},p:P,d(r){r&&h(e),r&&h(t),r&&h(l),r&&h(n)}}}function Go(s){let e,t,l,n,r,a,i;return{c(){e=_("div"),t=_("button"),l=S(),n=_("h1"),n.textContent="Stats",r=z(`\r
        The amount of things on Meower!`),p(t,"class","circle search"),p(e,"class","settings-controls svelte-1we54ik")},m(o,c){b(o,e,c),d(e,t),b(o,l,c),b(o,n,c),b(o,r,c),a||(i=T(t,"click",s[0]),a=!0)},p:P,d(o){o&&h(e),o&&h(l),o&&h(n),o&&h(r),a=!1,i()}}}function Jo(s){let e,t,l,n,r,a,i,o,c;return t=new re({props:{$$slots:{default:[Yo]},$$scope:{ctx:s}}}),n=new re({props:{$$slots:{default:[Ko]},$$scope:{ctx:s}}}),a=new re({props:{$$slots:{default:[Fo]},$$scope:{ctx:s}}}),o=new re({props:{$$slots:{default:[Go]},$$scope:{ctx:s}}}),{c(){e=_("div"),x(t.$$.fragment),l=S(),x(n.$$.fragment),r=S(),x(a.$$.fragment),i=S(),x(o.$$.fragment),p(e,"class","Search")},m(u,f){b(u,e,f),M(t,e,null),d(e,l),M(n,e,null),d(e,r),M(a,e,null),d(e,i),M(o,e,null),c=!0},p(u,[f]){const m={};f&2&&(m.$$scope={dirty:f,ctx:u}),t.$set(m);const k={};f&2&&(k.$$scope={dirty:f,ctx:u}),n.$set(k);const v={};f&2&&(v.$$scope={dirty:f,ctx:u}),a.$set(v);const $={};f&2&&($.$$scope={dirty:f,ctx:u}),o.$set($)},i(u){c||(j(t.$$.fragment,u),j(n.$$.fragment,u),j(a.$$.fragment,u),j(o.$$.fragment,u),c=!0)},o(u){q(t.$$.fragment,u),q(n.$$.fragment,u),q(a.$$.fragment,u),q(o.$$.fragment,u),c=!1},d(u){u&&h(e),I(t),I(n),I(a),I(o)}}}function Qo(s){return[()=>{ce.set("Stats"),H.set(!0)}]}class Vo extends te{constructor(e){super(),ee(this,e,Qo,Jo,X,{})}}var ll="./assets/logo.22ae43ae.svg",Xo="./assets/home.a6e91ee5.svg",Zo="./assets/chat.8f7a11c0.svg",Pn="./assets/mail.adf4cbe0.svg",zn="./assets/mail_new.2e8332f8.svg",ei="./assets/profile.f90d67b3.svg",ti="./assets/settings.10cdbd27.svg",li="./assets/logout.32557676.svg",ni="./assets/search.a0e48db0.svg";function si(s){let e,t,l,n,r,a,i,o,c,u,f,m,k,v,$,g,w,C,E,y,O,L,B,W,Q,se,U,J,Z,R,N,A,K,V,_e;return{c(){e=_("div"),t=_("div"),l=_("span"),n=_("img"),a=S(),i=_("button"),o=_("img"),u=S(),f=_("button"),m=_("img"),v=S(),$=_("button"),g=_("img"),C=S(),E=_("button"),y=_("img"),L=S(),B=_("button"),W=_("img"),se=S(),U=_("button"),J=_("img"),R=S(),N=_("button"),A=_("img"),p(n,"alt","Meower"),he(n.src,r=ll)||p(n,"src",r),p(n,"draggable",!1),p(n,"height","100%"),p(n,"width","auto"),p(n,"class","svelte-24kvyj"),p(l,"class","logo-inner svelte-24kvyj"),p(t,"class","logo svelte-24kvyj"),he(o.src,c=Xo)||p(o,"src",c),p(o,"alt","Home"),p(o,"width","90%"),p(o,"height","auto"),p(o,"draggable",!1),p(i,"class","home-btn round svelte-24kvyj"),he(m.src,k=s[0].unread_inbox?zn:Pn)||p(m,"src",k),p(m,"alt","Inbox Messages"),p(m,"width","90%"),p(m,"height","auto"),p(m,"draggable",!1),p(f,"class","gc-btn round svelte-24kvyj"),he(g.src,w=Zo)||p(g,"src",w),p(g,"alt","Group Chats"),p(g,"width","90%"),p(g,"height","auto"),p(g,"draggable",!1),p($,"class","gc-btn round svelte-24kvyj"),he(y.src,O=ni)||p(y,"src",O),p(y,"alt","search"),p(y,"width","90%"),p(y,"height","auto"),p(y,"draggable",!1),p(E,"class","search-btn round svelte-24kvyj"),he(W.src,Q=ei)||p(W,"src",Q),p(W,"alt","Profile"),p(W,"width","90%"),p(W,"height","auto"),p(W,"draggable",!1),p(B,"class","profile-btn round svelte-24kvyj"),he(J.src,Z=ti)||p(J,"src",Z),p(J,"alt","Settings"),p(J,"width","90%"),p(J,"height","auto"),p(J,"draggable",!1),p(U,"class","settings-btn round svelte-24kvyj"),he(A.src,K=li)||p(A,"src",K),p(A,"alt","Log out"),p(A,"width","90%"),p(A,"height","auto"),p(A,"draggable",!1),p(N,"class","logout-btn round svelte-24kvyj"),p(e,"class","sidebar svelte-24kvyj")},m(pe,Oe){b(pe,e,Oe),d(e,t),d(t,l),d(l,n),d(e,a),d(e,i),d(i,o),d(e,u),d(e,f),d(f,m),d(e,v),d(e,$),d($,g),d(e,C),d(e,E),d(E,y),d(e,L),d(e,B),d(B,W),d(e,se),d(e,U),d(U,J),d(e,R),d(e,N),d(N,A),V||(_e=[T(l,"click",s[3]),T(i,"click",s[4]),T(f,"click",s[5]),T($,"click",s[6]),T(E,"click",s[7]),T(B,"click",s[8]),T(U,"click",s[9]),T(N,"click",s[10])],V=!0)},p(pe,[Oe]){Oe&1&&!he(m.src,k=pe[0].unread_inbox?zn:Pn)&&p(m,"src",k)},i:P,o:P,d(pe){pe&&h(e),V=!1,oe(_e)}}}function ri(s,e,t){let l,n,r,a;D(s,Ce,g=>t(11,l=g)),D(s,fe,g=>t(12,n=g)),D(s,ie,g=>t(0,r=g)),D(s,Je,g=>t(1,a=g));function i(g,w=!0){if(!r.name&&g!=="home"&&g!=="settings"){ce.set("signup"),H.set(!0);return}w&&window.scrollTo(0,0),n==="groupchat"&&ae({cmd:"direct",val:{cmd:"set_chat_state",val:{state:0,chatid:l}}}),Ce.set(""),fe.set("blank"),Se().then(()=>fe.set(g))}return[r,a,i,()=>i("home"),()=>i("home"),()=>i("inbox"),()=>{i(Ve?"groupcat":"chatlist")},()=>i("search"),()=>{F(Je,a=r.name,a),i("profile")},()=>i("settings"),()=>{ce.set("logout"),H.set(!0)}]}class oi extends te{constructor(e){super(),ee(this,e,ri,si,X,{})}}function ii(s){let e,t,l,n,r;return{c(){e=z(`Somehow, you got to a page that doesn't exist...\r
			`),t=_("br"),l=z(`\r
			(Current page: `),n=z(s[0]),r=z(")")},m(a,i){b(a,e,i),b(a,t,i),b(a,l,i),b(a,n,i),b(a,r,i)},p(a,i){i&1&&G(n,a[0])},i:P,o:P,d(a){a&&h(e),a&&h(t),a&&h(l),a&&h(n),a&&h(r)}}}function ai(s){let e;return{c(){e=_("div")},m(t,l){b(t,e,l)},p:P,i:P,o:P,d(t){t&&h(e)}}}function ci(s){let e,t;return e=new ts({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p:P,i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function ui(s){let e,t;return e=new Wo({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p:P,i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function fi(s){let e,t;return e=new Ao({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p:P,i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function di(s){let e,t;return e=new zo({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p:P,i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function pi(s){let e,t;return e=new vo({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p:P,i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function mi(s){let e,t;return e=new ts({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p:P,i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function _i(s){let e,t;return e=new Nr({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p:P,i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function gi(s){let e,t;return e=new Vo({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p:P,i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function vi(s){let e,t;return e=new yr({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p:P,i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function hi(s){let e,t;return e=new fr({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p:P,i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function bi(s){let e,t,l,n,r,a,i,o;l=new oi({});const c=[hi,vi,gi,_i,mi,pi,di,fi,ui,ci,ai,ii],u=[];function f(m,k){return m[0]==="home"?0:m[0]==="inbox"?1:m[0]==="search"?2:m[0]==="chatlist"?3:m[0]==="groupchat"?4:m[0]==="profile"?5:m[0]==="recent"?6:m[0]==="settings"?7:m[0]==="groupcat"?8:m[0]==="groupchat"?9:m[0]==="blank"?10:11}return a=f(s),i=u[a]=c[a](s),{c(){e=_("div"),t=_("div"),x(l.$$.fragment),n=S(),r=_("div"),i.c(),p(t,"class","sidebar svelte-w6uu6j"),p(r,"class","view svelte-w6uu6j"),p(e,"class","main-screen svelte-w6uu6j")},m(m,k){b(m,e,k),d(e,t),M(l,t,null),d(e,n),d(e,r),u[a].m(r,null),o=!0},p(m,[k]){let v=a;a=f(m),a===v?u[a].p(m,k):(le(),q(u[v],1,1,()=>{u[v]=null}),ne(),i=u[a],i?i.p(m,k):(i=u[a]=c[a](m),i.c()),j(i,1),i.m(r,null))},i(m){o||(j(l.$$.fragment,m),j(i),o=!0)},o(m){q(l.$$.fragment,m),q(i),o=!1},d(m){m&&h(e),I(l),u[a].d()}}}function ki(s,e,t){let l;return D(s,fe,n=>t(0,l=n)),fe.set("home"),[l]}class $i extends te{constructor(e){super(),ee(this,e,ki,bi,X,{})}}function wi(s){let e,t,l,n,r,a,i,o,c,u,f;return{c(){e=_("div"),t=_("div"),l=z(`Somehow, you got to a page that doesn't exist...\r
				`),n=_("br"),r=z(`\r
				(Current page: `),a=z(s[8]),i=z(`)\r
\r
				`),o=_("div"),c=_("button"),c.textContent="Go back!",p(n,"class","svelte-slqvyn"),p(c,"class","svelte-slqvyn"),p(o,"class","buttons svelte-slqvyn"),p(t,"class","column-ui svelte-slqvyn"),p(e,"class","fullcenter svelte-slqvyn")},m(m,k){b(m,e,k),d(e,t),d(t,l),d(t,n),d(t,r),d(t,a),d(t,i),d(t,o),d(o,c),u||(f=T(c,"click",s[23]),u=!0)},p(m,k){k&256&&G(a,m[8])},i:P,o:P,d(m){m&&h(e),u=!1,f()}}}function yi(s){let e;return{c(){e=_("div"),e.textContent="Let's go!",p(e,"class","fullcenter svelte-slqvyn")},m(t,l){b(t,e,l)},p:P,i:P,o:P,d(t){t&&h(e)}}}function Ci(s){let e;return{c(){e=_("div")},m(t,l){b(t,e,l)},p:P,i:P,o:P,d(t){t&&h(e)}}}function Si(s){let e,t,l,n,r,a,i,o,c,u,f,m,k,v,$,g,w,C,E,y,O,L,B,W,Q,se,U,J,Z,R,N,A;return{c(){e=_("div"),t=_("h1"),t.textContent="Welcome to Meower",l=S(),n=_("form"),r=_("input"),a=S(),i=_("br"),o=S(),c=_("input"),u=S(),f=_("p"),m=_("input"),k=S(),v=_("label"),v.textContent="Save this login",$=S(),g=_("br"),w=S(),C=_("input"),E=S(),y=_("label"),y.innerHTML='I agree to <a href="https://meower.org/legal" target="_blank" class="svelte-slqvyn">Meower&#39;s Terms of Service and Privacy Policy</a>',O=S(),L=_("span"),B=z(s[3]),W=S(),Q=_("div"),se=_("button"),se.textContent="Go back",U=S(),J=_("button"),Z=z("Join!"),p(r,"type","text"),p(r,"placeholder","Username"),p(r,"maxlength","20"),p(r,"class","svelte-slqvyn"),p(i,"class","svelte-slqvyn"),p(c,"type","password"),p(c,"placeholder","Password"),p(c,"maxlength","64"),p(c,"class","svelte-slqvyn"),p(m,"id","remember-me"),p(m,"type","checkbox"),p(m,"class","svelte-slqvyn"),p(v,"for","remember-me"),p(v,"class","svelte-slqvyn"),p(g,"class","svelte-slqvyn"),p(C,"id","accept-terms"),p(C,"type","checkbox"),p(C,"class","svelte-slqvyn"),p(y,"for","accept-terms"),p(y,"class","svelte-slqvyn"),p(f,"class","checkboxes svelte-slqvyn"),p(L,"class","login-status svelte-slqvyn"),p(se,"type","button"),p(se,"class","svelte-slqvyn"),p(J,"type","submit"),J.disabled=R=!s[5],p(J,"class","svelte-slqvyn"),p(Q,"class","buttons svelte-slqvyn"),p(n,"class","column-ui svelte-slqvyn"),p(e,"class","fullcenter svelte-slqvyn")},m(K,V){b(K,e,V),d(e,t),d(e,l),d(e,n),d(n,r),d(n,a),d(n,i),d(n,o),d(n,c),d(n,u),d(n,f),d(f,m),m.checked=s[4],d(f,k),d(f,v),d(f,$),d(f,g),d(f,w),d(f,C),C.checked=s[5],d(f,E),d(f,y),d(n,O),d(n,L),d(L,B),d(n,W),d(n,Q),d(Q,se),d(Q,U),d(Q,J),d(J,Z),N||(A=[T(m,"change",s[19]),T(C,"change",s[20]),T(se,"click",be(s[21])),T(n,"submit",be(s[22]))],N=!0)},p(K,V){V&16&&(m.checked=K[4]),V&32&&(C.checked=K[5]),V&8&&G(B,K[3]),V&32&&R!==(R=!K[5])&&(J.disabled=R)},i:P,o:P,d(K){K&&h(e),N=!1,oe(A)}}}function ji(s){let e,t,l,n,r,a,i,o,c,u,f,m,k,v,$,g,w,C,E,y,O,L,B,W;return{c(){e=_("div"),t=_("h1"),t.textContent="Login to Meower",l=S(),n=_("form"),r=_("input"),a=S(),i=_("br"),o=S(),c=_("input"),u=S(),f=_("p"),m=_("input"),k=S(),v=_("label"),v.textContent="Save this login",$=S(),g=_("span"),w=z(s[3]),C=S(),E=_("div"),y=_("button"),y.textContent="Go back",O=S(),L=_("button"),L.textContent="Log in",p(r,"type","text"),p(r,"placeholder","Username"),p(r,"maxlength","20"),p(r,"class","svelte-slqvyn"),p(i,"class","svelte-slqvyn"),p(c,"type","password"),p(c,"placeholder","Password"),p(c,"maxlength","64"),p(c,"class","svelte-slqvyn"),p(m,"id","remember-me"),p(m,"type","checkbox"),p(m,"class","svelte-slqvyn"),p(v,"for","remember-me"),p(v,"class","svelte-slqvyn"),p(f,"class","checkboxes svelte-slqvyn"),p(g,"class","login-status svelte-slqvyn"),p(y,"type","button"),p(y,"class","svelte-slqvyn"),p(L,"type","submit"),p(L,"class","svelte-slqvyn"),p(E,"class","buttons svelte-slqvyn"),p(n,"class","column-ui svelte-slqvyn"),p(e,"class","fullcenter svelte-slqvyn")},m(Q,se){b(Q,e,se),d(e,t),d(e,l),d(e,n),d(n,r),d(n,a),d(n,i),d(n,o),d(n,c),d(n,u),d(n,f),d(f,m),m.checked=s[4],d(f,k),d(f,v),d(n,$),d(n,g),d(g,w),d(n,C),d(n,E),d(E,y),d(E,O),d(E,L),B||(W=[T(m,"change",s[16]),T(y,"click",be(s[17])),T(n,"submit",be(s[18]))],B=!0)},p(Q,se){se&16&&(m.checked=Q[4]),se&8&&G(w,Q[3])},i:P,o:P,d(Q){Q&&h(e),B=!1,oe(W)}}}function qi(s){let e,t,l,n,r,a,i,o,c,u,f,m,k,v,$,g,w,C=localStorage.getItem("meower_savedusername"),E,y,O,L,B,W,Q,se,U,J,Z,R,N=C&&Ei(s);return{c(){e=_("div"),t=_("div"),l=_("div"),n=_("img"),a=S(),i=_("br"),o=_("br"),c=S(),u=_("button"),u.textContent="Log in",f=S(),m=_("br"),k=S(),v=_("button"),v.textContent="Create an account",$=S(),g=_("br"),w=S(),N&&N.c(),E=S(),y=_("button"),y.textContent="Skip",O=S(),L=_("p"),L.textContent="(Several features will be unavailable while not logged in.)",B=S(),W=_("div"),Q=_("p"),Q.textContent="Meower Svelte v1.5_DEVBUILD",se=S(),U=_("img"),p(n,"alt","Meower"),he(n.src,r=ll)||p(n,"src",r),p(n,"class","logo-img svelte-slqvyn"),p(n,"height","70"),p(i,"class","svelte-slqvyn"),p(o,"class","svelte-slqvyn"),p(l,"class","svelte-slqvyn"),p(u,"class","svelte-slqvyn"),p(m,"class","svelte-slqvyn"),p(v,"class","svelte-slqvyn"),p(g,"class","svelte-slqvyn"),p(y,"class","svelte-slqvyn"),p(L,"class","small svelte-slqvyn"),p(Q,"class","small svelte-slqvyn"),he(U.src,J=ls)||p(U,"src",J),p(U,"alt",""),p(U,"height","64"),p(U,"class","svelte-slqvyn"),p(W,"class","svelte-slqvyn"),p(t,"class","column-ui svelte-slqvyn"),p(e,"class","fullcenter svelte-slqvyn")},m(A,K){b(A,e,K),d(e,t),d(t,l),d(l,n),d(l,a),d(l,i),d(l,o),d(t,c),d(t,u),d(t,f),d(t,m),d(t,k),d(t,v),d(t,$),d(t,g),d(t,w),N&&N.m(t,null),d(t,E),d(t,y),d(t,O),d(t,L),d(t,B),d(t,W),d(W,Q),d(W,se),d(W,U),Z||(R=[T(u,"click",s[12]),T(v,"click",s[13]),T(y,"click",s[15])],Z=!0)},p(A,K){C&&N.p(A,K)},i:P,o:P,d(A){A&&h(e),N&&N.d(),Z=!1,oe(R)}}}function Pi(s){let e;return{c(){e=_("div"),e.textContent="Reconnecting...",p(e,"class","fullcenter svelte-slqvyn")},m(t,l){b(t,e,l)},p:P,i:P,o:P,d(t){t&&h(e)}}}function zi(s){let e,t,l,n,r,a,i,o,c,u;return{c(){e=_("div"),t=_("div"),l=_("div"),n=_("img"),a=S(),i=_("div"),o=z(s[3]),p(n,"alt","Meower"),he(n.src,r=ll)||p(n,"src",r),p(n,"class","logo-img svelte-slqvyn"),p(n,"height","40"),p(l,"class","logo top svelte-slqvyn"),p(i,"class","connecting svelte-slqvyn"),p(e,"class","fullcenter svelte-slqvyn")},m(f,m){b(f,e,m),d(e,t),d(t,l),d(l,n),s[10](n),s[11](l),d(t,a),d(t,i),d(i,o),u=!0},p(f,m){(!u||m&8)&&G(o,f[3])},i(f){u||(c&&c.end(1),u=!0)},o(f){c=Jn(e,es,{duration:300}),u=!1},d(f){f&&h(e),s[10](null),s[11](null),f&&c&&c.end()}}}function Ei(s){let e,t,l,n,r,a;return{c(){e=_("button"),e.textContent=`Use saved login (${localStorage.getItem("meower_savedusername")})`,t=S(),l=_("p"),n=z(s[3]),p(e,"class","svelte-slqvyn"),p(l,"class","small svelte-slqvyn")},m(i,o){b(i,e,o),b(i,t,o),b(i,l,o),d(l,n),r||(a=T(e,"click",s[14]),r=!0)},p(i,o){o&8&&G(n,i[3])},d(i){i&&h(e),i&&h(t),i&&h(l),r=!1,a()}}}function Mi(s){let e,t,l,n,r;const a=[zi,Pi,qi,ji,Si,Ci,yi,wi],i=[];function o(c,u){return c[8]==="logo"?0:c[8]==="reconnect"?1:c[8]==="welcome"?2:c[8]==="login"?3:c[8]==="join"?4:c[8]==="blank"?5:c[8]==="go"?6:7}return t=o(s),l=i[t]=a[t](s),{c(){e=_("div"),l.c(),p(e,"class","setup white svelte-slqvyn")},m(c,u){b(c,e,u),i[t].m(e,null),s[24](e),r=!0},p(c,[u]){let f=t;t=o(c),t===f?i[t].p(c,u):(le(),q(i[f],1,1,()=>{i[f]=null}),ne(),l=i[t],l?l.p(c,u):(l=i[t]=a[t](c),l.c()),j(l,1),l.m(e,null))},i(c){r||(j(l),n&&n.end(1),r=!0)},o(c){q(l),n=Jn(e,es,{duration:300}),r=!1},d(c){c&&h(e),i[t].d(),s[24](null),c&&n&&n.end()}}}function Ii(s,e,t){let l,n,r;D(s,H,N=>t(6,l=N)),D(s,ce,N=>t(7,n=N)),D(s,ve,N=>t(8,r=N));const a=Y;window.clm=Ms;let i,o,c,u="";async function f(){await Wt(),Vn(),await new Promise(N=>a.once("connected",N))}let m=!1,k=!1;Vt(()=>{ve.subscribe(async N=>{!o||(o.classList.remove("white"),N==="logo"?(Wt(),t(3,u=""),await Se(),o.classList.add("white"),t(2,c.height=0,c),i.classList.remove("top"),await Ke(600),t(2,c.height=80,c),await Ke(300),o.classList.remove("white"),t(2,c.height=40,c),i.classList.add("top"),await Ke(700),t(3,u="Connecting..."),await f(),localStorage.getItem("meower_savedusername")&&localStorage.getItem("meower_savedpassword")?$(localStorage.getItem("meower_savedusername"),localStorage.getItem("meower_savedpassword"),!0):await v()):N==="reconnect"&&(t(3,u=""),await f(),await Ke(100),ve.set("welcome")))})});async function v(){localStorage.clear(),ie.set(el()),t(3,u=""),ve.set("blank"),await Ke(600),ve.set("welcome")}function $(N,A,K=!1){try{t(3,u="Logging in..."),ae({cmd:"direct",val:{cmd:"authpswd",val:{username:N,pswd:A}}}).then(async V=>{try{const _e=await ae({cmd:"direct",val:{cmd:"get_profile",val:V.payload.username}});ie.update(pe=>Object.assign(pe,{..._e.payload,name:V.payload.username})),tt.set({username:V.payload.username,token:V.payload.token}),(m||localStorage.getItem("meower_savedusername")===N)&&(localStorage.setItem("meower_savedusername",N),localStorage.setItem("meower_savedpassword",V.payload.token)),He.set("main")}catch(_e){localStorage.clear(),console.error("Unexpected "+_e+" error getting user data!"),a.disconnect(1e3,"Failed to load userdata")}}).catch(V=>{if(K)return v();switch(V){case"E:103 | ID not found":t(3,u="Invalid username!");break;case"I:011 | Invalid Password":t(3,u="Invalid password!");break;case"E:018 | Account Banned":F(ce,n="banned",n),F(H,l=!0,l),t(3,u="");break;case"E:019 | Illegal characters detected":t(3,u="Usernames must not have spaces or other special characters!");break;case"E:106 | Too many requests":t(3,u="Too many requests! Please try again later.");break;default:t(3,u=`Unexpected ${V} error!`)}})}catch(V){if(K)return v();console.error(V),t(3,u="Error logging in: "+V)}}function g(N){Ne[N?"unshift":"push"](()=>{c=N,t(2,c)})}function w(N){Ne[N?"unshift":"push"](()=>{i=N,t(0,i)})}const C=()=>ve.set("login"),E=()=>ve.set("join"),y=()=>{t(4,m=!0),$(localStorage.getItem("meower_savedusername"),localStorage.getItem("meower_savedpassword"))},O=()=>{t(3,u=""),ve.set("blank"),He.set("main")};function L(){m=this.checked,t(4,m)}const B=()=>(ve.set("welcome"),t(3,u=""),!1),W=N=>N.target[0].value&&N.target[1].value?($(N.target[0].value,N.target[1].value),!1):(t(3,u="You must specify a username and a password to login!"),!1);function Q(){m=this.checked,t(4,m)}function se(){k=this.checked,t(5,k)}const U=()=>(ve.set("welcome"),t(3,u=""),!1),J=N=>{const A=N.target[0].value,K=N.target[1].value;if(!(A&&K))return t(3,u="You must specify a username and a password to create an account!"),!1;t(3,u="Creating account..."),ae({cmd:"direct",val:{cmd:"gen_account",val:{username:A,pswd:K}},listener:"join"}).then(async V=>{if(V.mode==="auth"&&V.payload.username===A){t(3,u="Getting user data...");const _e=await ae({cmd:"direct",val:{cmd:"get_profile",val:V.payload.username}});ie.update(pe=>Object.assign(pe,{..._e.payload,name:V.payload.username})),tt.set({username:V.payload.username,token:V.payload.token}),t(3,u=""),m&&(localStorage.setItem("meower_savedusername",A),localStorage.setItem("meower_savedpassword",V.payload.token)),ve.set("go"),await Ke(1e3),He.set("main")}else t(3,u="Unexpected error logging in!")}).catch(V=>{switch(V){case"I:015 | Account exists":t(3,u="That username already exists!");break;case"I:011 | Invalid Password":t(3,u="Invalid password!");break;case"E:119 | IP Blocked":F(ce,n="ipBanned",n),F(H,l=!0,l),t(3,u="");break;case"E:019 | Illegal characters detected":t(3,u="Usernames must not have spaces or other special characters!");break;case"E:106 | Too many requests":t(3,u="Too many requests! Please try again later.");break;default:t(3,u=`Unexpected ${V} error!`)}})},Z=()=>ve.set("logo");function R(N){Ne[N?"unshift":"push"](()=>{o=N,t(1,o)})}return[i,o,c,u,m,k,l,n,r,$,g,w,C,E,y,O,L,B,W,Q,se,U,J,Z,R]}class xi extends te{constructor(e){super(),ee(this,e,Ii,Mi,X,{})}}function Li(s){let e;return{c(){e=_("h2"),e.textContent="Login to Meower",p(e,"slot","header")},m(t,l){b(t,e,l)},p:P,d(t){t&&h(e)}}}function Oi(s){let e,t,l,n,r,a,i,o,c,u,f,m,k,v,$,g,w,C,E,y,O,L,B=s[1]&&En(s);return{c(){e=_("form"),B&&B.c(),t=S(),l=_("input"),n=_("br"),r=_("br"),a=S(),i=_("input"),o=_("br"),c=S(),u=_("p"),f=_("input"),m=S(),k=_("label"),k.textContent="Remember me",v=S(),$=_("br"),g=S(),w=_("div"),C=_("a"),C.textContent="Join Meower",E=S(),y=_("button"),y.textContent="Login",p(l,"type","text"),p(l,"class","modal-input white"),p(l,"placeholder","Username"),p(l,"maxlength","20"),l.value=s[2],l.autofocus=!0,p(i,"type","password"),p(i,"class","modal-input white"),p(i,"placeholder","Password"),p(i,"maxlength","64"),i.value=s[3],p(f,"id","remember-me"),p(f,"type","checkbox"),p(f,"class","svelte-hkhckx"),p(k,"for","remember-me"),p(k,"class","svelte-hkhckx"),p(u,"class","checkboxes svelte-hkhckx"),p(C,"href","/"),p(y,"type","submit"),p(w,"class","modal-buttons")},m(W,Q){b(W,e,Q),B&&B.m(e,null),d(e,t),d(e,l),d(e,n),d(e,r),d(e,a),d(e,i),d(e,o),d(e,c),d(e,u),d(u,f),f.checked=s[4],d(u,m),d(u,k),d(e,v),d(e,$),d(e,g),d(e,w),d(w,C),d(w,E),d(w,y),l.focus(),O||(L=[T(f,"change",s[7]),T(C,"click",be(s[8])),T(e,"submit",be(s[9]))],O=!0)},p(W,Q){W[1]?B?B.p(W,Q):(B=En(W),B.c(),B.m(e,t)):B&&(B.d(1),B=null),Q&4&&l.value!==W[2]&&(l.value=W[2]),Q&8&&i.value!==W[3]&&(i.value=W[3]),Q&16&&(f.checked=W[4])},i:P,o:P,d(W){W&&h(e),B&&B.d(),O=!1,oe(L)}}}function Ti(s){let e,t,l;return t=new ke({}),{c(){e=_("div"),x(t.$$.fragment),p(e,"class","fullcenter svelte-hkhckx")},m(n,r){b(n,e,r),M(t,e,null),l=!0},p:P,i(n){l||(j(t.$$.fragment,n),l=!0)},o(n){q(t.$$.fragment,n),l=!1},d(n){n&&h(e),I(t)}}}function En(s){let e,t,l;return{c(){e=_("span"),t=z(s[1]),l=_("br"),p(e,"class","login-status svelte-hkhckx")},m(n,r){b(n,e,r),d(e,t),b(n,l,r)},p(n,r){r&2&&G(t,n[1])},d(n){n&&h(e),n&&h(l)}}}function Ri(s){let e,t,l,n;const r=[Ti,Oi],a=[];function i(o,c){return o[0]?0:1}return t=i(s),l=a[t]=r[t](s),{c(){e=_("div"),l.c(),p(e,"slot","default")},m(o,c){b(o,e,c),a[t].m(e,null),n=!0},p(o,c){let u=t;t=i(o),t===u?a[t].p(o,c):(le(),q(a[u],1,1,()=>{a[u]=null}),ne(),l=a[t],l?l.p(o,c):(l=a[t]=r[t](o),l.c()),j(l,1),l.m(e,null))},i(o){n||(j(l),n=!0)},o(o){q(l),n=!1},d(o){o&&h(e),a[t].d()}}}function Ni(s){let e,t;return e=new me({props:{$$slots:{default:[Ri],header:[Li]},$$scope:{ctx:s}}}),e.$on("close",s[10]),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p(l,[n]){const r={};n&2079&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function Ai(s,e,t){let l;D(s,H,v=>t(5,l=v));let n=!1,r="",a="",i="",o=!1;function c(){try{t(0,n=!0),ae({cmd:"direct",val:{cmd:"authpswd",val:{username:a,pswd:i}}}).then(async v=>{try{const $=await ae({cmd:"direct",val:{cmd:"get_profile",val:v.payload.username}});H.set(!1),ie.update(g=>Object.assign(g,{...$.payload,name:v.payload.username})),tt.set({username:v.payload.username,token:v.payload.token}),o&&(localStorage.setItem("meower_savedusername",a),localStorage.setItem("meower_savedpassword",v.payload.token))}catch($){t(0,n=!1),t(1,r="Unexpected "+$+" error getting user data!")}}).catch(v=>{switch(t(0,n=!1),v){case"E:103 | ID not found":t(1,r="Invalid username!");break;case"I:011 | Invalid Password":t(1,r="Invalid password!");break;case"E:018 | Account Banned":ce.set("banned");break;case"E:107 | Packet too large":t(1,r="The username and/or password is too long!");break;case"E:019 | Illegal characters detected":t(1,r="Usernames must not have spaces or other special characters!");break;case"E:106 | Too many requests":t(1,r="Too many requests! Please try again later.");break;default:t(1,r=`Unexpected ${v} error!`)}})}catch(v){console.log(v),t(0,n=!1),t(1,r="Error logging in: "+v)}}function u(){o=this.checked,t(4,o)}return[n,r,a,i,o,l,c,u,()=>{ce.set("signup")},v=>v.target[0].value&&v.target[1].value?(t(2,a=v.target[0].value),t(3,i=v.target[1].value),c(),!1):(t(1,r="You must specify a username and a password to login!"),!1),()=>{F(H,l=!1,l)}]}class Ui extends te{constructor(e){super(),ee(this,e,Ai,Ni,X,{})}}function Bi(s){let e;return{c(){e=_("h2"),e.textContent="Join Meower",p(e,"slot","header")},m(t,l){b(t,e,l)},p:P,d(t){t&&h(e)}}}function Di(s){let e,t,l,n,r,a,i,o,c,u,f,m,k,v,$,g,w,C,E,y,O,L,B,W,Q,se,U,J,Z,R,N=s[1]&&Mn(s);return{c(){e=_("form"),N&&N.c(),t=S(),l=_("input"),n=_("br"),r=_("br"),a=S(),i=_("input"),o=_("br"),c=S(),u=_("p"),f=_("input"),m=S(),k=_("label"),k.textContent="Remember me",v=S(),$=_("br"),g=S(),w=_("input"),C=S(),E=_("label"),E.innerHTML='I agree to <a href="https://meower.org/legal" target="_blank">Meower&#39;s Terms of Service and Privacy Policy</a>',y=S(),O=_("br"),L=S(),B=_("div"),W=_("a"),W.textContent="Login to Meower",Q=S(),se=_("button"),U=z("Create Account"),p(l,"type","text"),p(l,"class","modal-input white"),p(l,"placeholder","Username"),p(l,"maxlength","20"),l.value=s[2],l.autofocus=!0,p(i,"type","password"),p(i,"class","modal-input white"),p(i,"placeholder","Password"),p(i,"maxlength","64"),i.value=s[3],p(f,"id","remember-me"),p(f,"type","checkbox"),p(f,"class","svelte-hkhckx"),p(k,"for","remember-me"),p(k,"class","svelte-hkhckx"),p(w,"id","accept-terms"),p(w,"type","checkbox"),p(w,"class","svelte-hkhckx"),p(E,"for","accept-terms"),p(E,"class","svelte-hkhckx"),p(u,"class","checkboxes svelte-hkhckx"),p(W,"href","/"),p(se,"type","submit"),se.disabled=J=!s[4],p(B,"class","modal-buttons")},m(A,K){b(A,e,K),N&&N.m(e,null),d(e,t),d(e,l),d(e,n),d(e,r),d(e,a),d(e,i),d(e,o),d(e,c),d(e,u),d(u,f),f.checked=s[5],d(u,m),d(u,k),d(u,v),d(u,$),d(u,g),d(u,w),w.checked=s[4],d(u,C),d(u,E),d(e,y),d(e,O),d(e,L),d(e,B),d(B,W),d(B,Q),d(B,se),d(se,U),l.focus(),Z||(R=[T(f,"change",s[8]),T(w,"change",s[9]),T(W,"click",be(s[10])),T(e,"submit",be(s[11]))],Z=!0)},p(A,K){A[1]?N?N.p(A,K):(N=Mn(A),N.c(),N.m(e,t)):N&&(N.d(1),N=null),K&4&&l.value!==A[2]&&(l.value=A[2]),K&8&&i.value!==A[3]&&(i.value=A[3]),K&32&&(f.checked=A[5]),K&16&&(w.checked=A[4]),K&16&&J!==(J=!A[4])&&(se.disabled=J)},i:P,o:P,d(A){A&&h(e),N&&N.d(),Z=!1,oe(R)}}}function Hi(s){let e,t,l;return t=new ke({}),{c(){e=_("div"),x(t.$$.fragment),p(e,"class","fullcenter svelte-hkhckx")},m(n,r){b(n,e,r),M(t,e,null),l=!0},p:P,i(n){l||(j(t.$$.fragment,n),l=!0)},o(n){q(t.$$.fragment,n),l=!1},d(n){n&&h(e),I(t)}}}function Mn(s){let e,t,l;return{c(){e=_("span"),t=z(s[1]),l=_("br"),p(e,"class","login-status svelte-hkhckx")},m(n,r){b(n,e,r),d(e,t),b(n,l,r)},p(n,r){r&2&&G(t,n[1])},d(n){n&&h(e),n&&h(l)}}}function Wi(s){let e,t,l,n;const r=[Hi,Di],a=[];function i(o,c){return o[0]?0:1}return t=i(s),l=a[t]=r[t](s),{c(){e=_("div"),l.c(),p(e,"slot","default")},m(o,c){b(o,e,c),a[t].m(e,null),n=!0},p(o,c){let u=t;t=i(o),t===u?a[t].p(o,c):(le(),q(a[u],1,1,()=>{a[u]=null}),ne(),l=a[t],l?l.p(o,c):(l=a[t]=r[t](o),l.c()),j(l,1),l.m(e,null))},i(o){n||(j(l),n=!0)},o(o){q(l),n=!1},d(o){o&&h(e),a[t].d()}}}function Yi(s){let e,t;return e=new me({props:{$$slots:{default:[Wi],header:[Bi]},$$scope:{ctx:s}}}),e.$on("close",s[12]),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p(l,[n]){const r={};n&16447&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function Ki(s,e,t){let l,n;D(s,ce,w=>t(13,l=w)),D(s,H,w=>t(6,n=w));let r=!1,a="",i="",o="",c=!1,u=!1;function f(){try{t(0,r=!0),ae({cmd:"direct",val:{cmd:"gen_account",val:{username:i,pswd:o}},listener:"join"}).then(async w=>{if(w.mode==="auth"&&w.payload.username===i){t(1,a="Getting user data...");const C=await ae({cmd:"direct",val:{cmd:"get_profile",val:w.payload.username}});H.set(!1),ie.update(E=>Object.assign(E,{...C.payload,name:w.payload.username})),tt.set({username:w.payload.username,token:w.payload.token}),t(1,a=""),u&&(localStorage.setItem("meower_savedusername",i),localStorage.setItem("meower_savedpassword",w.payload.token)),fe.set("blank"),Se().then(()=>fe.set("home"))}else t(1,a="Unexpected error logging in!")}).catch(w=>{switch(t(0,r=!1),w){case"I:015 | Account exists":t(1,a="That username already exists!");break;case"I:011 | Invalid Password":t(1,a="Invalid password!");break;case"E:119 | IP Blocked":F(ce,l="ipBanned",l);break;case"E:019 | Illegal characters detected":t(1,a="Usernames must not have spaces or other special characters!");break;case"E:106 | Too many requests":t(1,a="Too many requests! Please try again later.");break;default:t(1,a=`Unexpected ${w} error!`)}})}catch(w){console.log(w),t(0,r=!1),t(1,a="Error logging in: "+w)}}function m(){u=this.checked,t(5,u)}function k(){c=this.checked,t(4,c)}return[r,a,i,o,c,u,n,f,m,k,()=>{ce.set("login")},w=>w.target[0].value&&w.target[1].value?(t(2,i=w.target[0].value),t(3,o=w.target[1].value),f(),!1):(t(1,a="You must specify a username and a password to create an account!"),!1),()=>{F(H,n=!1,n)}]}class Fi extends te{constructor(e){super(),ee(this,e,Ki,Yi,X,{})}}function Gi(s){let e;return{c(){e=_("h2"),e.textContent="Account Banned",p(e,"slot","header")},m(t,l){b(t,e,l)},p:P,d(t){t&&h(e)}}}function Ji(s){let e,t,l,n,r,a,i,o,c,u,f;return{c(){e=_("div"),t=_("p"),t.innerHTML=`Your account has been banned by the Meower moderation team because it was used to violate Meower&#39;s Terms of Service.
            <br/><br/>
            If you would like to discuss this ban, please email <a href="mailto:support@meower.org" target="_blank">support@meower.org</a>.`,l=S(),n=_("br"),r=S(),a=_("div"),i=_("a"),i.textContent="Terms of Service",o=S(),c=_("button"),c.textContent="Close",p(i,"href","https://meower.org/legal"),p(i,"target","_blank"),p(a,"class","modal-buttons"),p(e,"slot","default")},m(m,k){b(m,e,k),d(e,t),d(e,l),d(e,n),d(e,r),d(e,a),d(a,i),d(a,o),d(a,c),u||(f=T(c,"click",s[1]),u=!0)},p:P,d(m){m&&h(e),u=!1,f()}}}function Qi(s){let e,t;return e=new me({props:{$$slots:{default:[Ji],header:[Gi]},$$scope:{ctx:s}}}),e.$on("close",s[2]),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p(l,[n]){const r={};n&9&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function Vi(s,e,t){let l;return D(s,H,a=>t(0,l=a)),[l,()=>{F(H,l=!1,l)},()=>{F(H,l=!1,l)}]}class Xi extends te{constructor(e){super(),ee(this,e,Vi,Qi,X,{})}}function Zi(s){let e;return{c(){e=_("h2"),e.textContent="IP Blocked",p(e,"slot","header")},m(t,l){b(t,e,l)},p:P,d(t){t&&h(e)}}}function ea(s){let e,t,l,n,r,a,i,o,c,u,f;return{c(){e=_("div"),t=_("p"),t.innerHTML=`Your IP address has been blocked from creating new accounts because it was used to violate Meower&#39;s Terms of Service.
            <br/><br/>
            If you would like to discuss this block, please email <a href="mailto:support@meower.org" target="_blank">support@meower.org</a>.`,l=S(),n=_("br"),r=S(),a=_("div"),i=_("a"),i.textContent="Terms of Service",o=S(),c=_("button"),c.textContent="Close",p(i,"href","https://meower.org/legal"),p(i,"target","_blank"),p(a,"class","modal-buttons"),p(e,"slot","default")},m(m,k){b(m,e,k),d(e,t),d(e,l),d(e,n),d(e,r),d(e,a),d(a,i),d(a,o),d(a,c),u||(f=T(c,"click",s[1]),u=!0)},p:P,d(m){m&&h(e),u=!1,f()}}}function ta(s){let e,t;return e=new me({props:{$$slots:{default:[ea],header:[Zi]},$$scope:{ctx:s}}}),e.$on("close",s[2]),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p(l,[n]){const r={};n&9&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function la(s,e,t){let l;return D(s,H,a=>t(0,l=a)),[l,()=>{F(H,l=!1,l)},()=>{F(H,l=!1,l)}]}class na extends te{constructor(e){super(),ee(this,e,la,ta,X,{})}}function sa(s){let e;return{c(){e=_("h2"),e.textContent="Delete Post",p(e,"slot","header")},m(t,l){b(t,e,l)},p:P,d(t){t&&h(e)}}}function ra(s){let e,t,l,n,r,a,i,o,c,u,f,m,k,v;return n=new st({props:{post:s[1],buttons:!1}}),{c(){e=_("div"),t=_("p"),t.textContent="Are you sure you would like to delete this post?",l=S(),x(n.$$.fragment),r=S(),a=_("br"),i=S(),o=_("div"),c=_("button"),c.textContent="Cancel",u=S(),f=_("button"),f.textContent="Delete",f.autofocus=!0,p(o,"class","modal-buttons"),p(e,"slot","default")},m($,g){b($,e,g),d(e,t),d(e,l),M(n,e,null),d(e,r),d(e,a),d(e,i),d(e,o),d(o,c),d(o,u),d(o,f),m=!0,f.focus(),k||(v=[T(c,"click",s[2]),T(f,"click",s[3])],k=!0)},p($,g){const w={};g&2&&(w.post=$[1]),n.$set(w)},i($){m||(j(n.$$.fragment,$),m=!0)},o($){q(n.$$.fragment,$),m=!1},d($){$&&h(e),I(n),k=!1,oe(v)}}}function oa(s){let e,t;return e=new me({props:{$$slots:{default:[ra],header:[sa]},$$scope:{ctx:s}}}),e.$on("close",s[4]),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p(l,[n]){const r={};n&35&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function ia(s,e,t){let l,n;return D(s,H,o=>t(0,l=o)),D(s,Et,o=>t(1,n=o)),[l,n,()=>{F(H,l=!1,l)},()=>{ae({cmd:"direct",val:{cmd:"delete_post",val:n.post_id}}),F(H,l=!1,l)},()=>{F(H,l=!1,l)}]}class aa extends te{constructor(e){super(),ee(this,e,ia,oa,X,{})}}function ca(s){let e;return{c(){e=_("h2"),e.textContent="Report Post",p(e,"slot","header")},m(t,l){b(t,e,l)},p:P,d(t){t&&h(e)}}}function ua(s){let e,t,l,n,r,a,i,o;return{c(){e=_("p"),e.textContent="Successfully reported post! A member of the Meower moderation team will review it shortly.",t=S(),l=_("br"),n=S(),r=_("div"),a=_("button"),a.textContent="Close",p(r,"class","modal-buttons")},m(c,u){b(c,e,u),b(c,t,u),b(c,l,u),b(c,n,u),b(c,r,u),d(r,a),i||(o=T(a,"click",s[5]),i=!0)},p:P,i:P,o:P,d(c){c&&h(e),c&&h(t),c&&h(l),c&&h(n),c&&h(r),i=!1,o()}}}function fa(s){let e,t,l,n,r,a,i,o,c,u,f,m,k;return l=new st({props:{post:s[2],buttons:!1}}),{c(){e=_("p"),e.innerHTML=`Are you sure you would like to report this post?
                <br/><br/>
                Please make sure you&#39;re only reporting stuff that is against the Meower <a href="https://meower.org/legal" target="_blank">Terms of Service</a>.`,t=S(),x(l.$$.fragment),n=S(),r=_("br"),a=S(),i=_("div"),o=_("button"),o.textContent="Cancel",c=S(),u=_("button"),u.textContent="Report",p(i,"class","modal-buttons")},m(v,$){b(v,e,$),b(v,t,$),M(l,v,$),b(v,n,$),b(v,r,$),b(v,a,$),b(v,i,$),d(i,o),d(i,c),d(i,u),f=!0,m||(k=[T(o,"click",s[3]),T(u,"click",s[4])],m=!0)},p(v,$){const g={};$&4&&(g.post=v[2]),l.$set(g)},i(v){f||(j(l.$$.fragment,v),f=!0)},o(v){q(l.$$.fragment,v),f=!1},d(v){v&&h(e),v&&h(t),I(l,v),v&&h(n),v&&h(r),v&&h(a),v&&h(i),m=!1,oe(k)}}}function da(s){let e,t,l,n;const r=[fa,ua],a=[];function i(o,c){return o[0]===0?0:o[0]===1?1:-1}return~(t=i(s))&&(l=a[t]=r[t](s)),{c(){e=_("div"),l&&l.c(),p(e,"slot","default")},m(o,c){b(o,e,c),~t&&a[t].m(e,null),n=!0},p(o,c){let u=t;t=i(o),t===u?~t&&a[t].p(o,c):(l&&(le(),q(a[u],1,1,()=>{a[u]=null}),ne()),~t?(l=a[t],l?l.p(o,c):(l=a[t]=r[t](o),l.c()),j(l,1),l.m(e,null)):l=null)},i(o){n||(j(l),n=!0)},o(o){q(l),n=!1},d(o){o&&h(e),~t&&a[t].d()}}}function pa(s){let e,t;return e=new me({props:{$$slots:{default:[da],header:[ca]},$$scope:{ctx:s}}}),e.$on("close",s[6]),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p(l,[n]){const r={};n&135&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function ma(s,e,t){let l,n;D(s,H,u=>t(1,l=u)),D(s,Et,u=>t(2,n=u));let r=0;return[r,l,n,()=>{F(H,l=!1,l)},()=>{ae({cmd:"direct",val:{cmd:"report",val:{type:0,id:n.post_id}}}),t(0,r=1)},()=>{F(H,l=!1,l)},()=>{F(H,l=!1,l)}]}class _a extends te{constructor(e){super(),ee(this,e,ma,pa,X,{})}}function ga(s){let e;return{c(){e=_("h2"),e.textContent="Report User",p(e,"slot","header")},m(t,l){b(t,e,l)},p:P,d(t){t&&h(e)}}}function va(s){let e,t,l,n,r,a,i,o,c,u,f,m,k,v,$;return{c(){e=_("div"),t=_("span"),l=z("Are you sure you want to report "),n=z(s[1]),r=z("?"),a=S(),i=_("br"),o=_("br"),c=S(),u=_("div"),f=_("button"),f.textContent="Cancel",m=S(),k=_("button"),k.textContent="Report",p(u,"class","modal-buttons"),p(e,"slot","default")},m(g,w){b(g,e,w),d(e,t),d(t,l),d(t,n),d(t,r),d(e,a),d(e,i),d(e,o),d(e,c),d(e,u),d(u,f),d(u,m),d(u,k),v||($=[T(f,"click",s[2]),T(k,"click",s[3])],v=!0)},p(g,w){w&2&&G(n,g[1])},d(g){g&&h(e),v=!1,oe($)}}}function ha(s){let e,t;return e=new me({props:{$$slots:{default:[va],header:[ga]},$$scope:{ctx:s}}}),e.$on("close",s[4]),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p(l,[n]){const r={};n&35&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function ba(s,e,t){let l,n;return D(s,H,o=>t(0,l=o)),D(s,Je,o=>t(1,n=o)),[l,n,()=>{F(H,l=!1,l)},()=>{ae({cmd:"direct",val:{cmd:"report",val:{type:1,id:n}}}),F(H,l=!1,l)},()=>{F(H,l=!1,l)}]}class ka extends te{constructor(e){super(),ee(this,e,ba,ha,X,{})}}function $a(s){let e,t,l;return{c(){e=_("h2"),t=z(s[1]),l=z("'s Profile"),p(e,"slot","header")},m(n,r){b(n,e,r),d(e,t),d(e,l)},p(n,r){r&2&&G(t,n[1])},d(n){n&&h(e)}}}function wa(s){let e,t,l,n,r,a;return e=new re({props:{$$slots:{default:[ya]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment),t=S(),l=_("button"),l.textContent="Close",p(l,"class","long svelte-w8vhr2")},m(i,o){M(e,i,o),b(i,t,o),b(i,l,o),n=!0,r||(a=T(l,"click",s[9]),r=!0)},p(i,o){const c={};o&8194&&(c.$$scope={dirty:o,ctx:i}),e.$set(c)},i(i){n||(j(e.$$.fragment,i),n=!0)},o(i){q(e.$$.fragment,i),n=!1},d(i){I(e,i),i&&h(t),i&&h(l),r=!1,a()}}}function ya(s){let e,t,l,n=s[12]+"",r;return{c(){e=z(`Error loading user profile.\r
				`),t=_("pre"),l=_("code"),r=z(n)},m(a,i){b(a,e,i),b(a,t,i),d(t,l),d(l,r)},p(a,i){i&2&&n!==(n=a[12]+"")&&G(r,n)},d(a){a&&h(e),a&&h(t)}}}function Ca(s){let e,t,l,n,r,a,i,o,c;e=new re({props:{$$slots:{default:[Sa]},$$scope:{ctx:s}}});let u=s[5]==s[3].name&&s[1]!=s[3].name&&In(s);return{c(){x(e.$$.fragment),t=S(),l=_("button"),l.textContent="View full profile",n=S(),u&&u.c(),r=S(),a=_("button"),a.textContent="Close",p(l,"class","long svelte-w8vhr2"),p(a,"class","long svelte-w8vhr2")},m(f,m){M(e,f,m),b(f,t,m),b(f,l,m),b(f,n,m),u&&u.m(f,m),b(f,r,m),b(f,a,m),i=!0,o||(c=[T(l,"click",s[6]),T(a,"click",s[8])],o=!0)},p(f,m){const k={};m&8206&&(k.$$scope={dirty:m,ctx:f}),e.$set(k),f[5]==f[3].name&&f[1]!=f[3].name?u?u.p(f,m):(u=In(f),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null)},i(f){i||(j(e.$$.fragment,f),i=!0)},o(f){q(e.$$.fragment,f),i=!1},d(f){I(e,f),f&&h(t),f&&h(l),f&&h(n),u&&u.d(f),f&&h(r),f&&h(a),o=!1,oe(c)}}}function Sa(s){let e,t,l,n,r,a,i,o,c=s[2].includes(s[1])?"Online":"Offline",u,f,m,k=(Yt[s[11].lvl]||"Unknown")+"",v,$;return t=new nt({props:{online:s[2].includes(s[1]),icon:s[1]===s[3].name?s[3].pfp_data:s[11].pfp_data,alt:s[1]+"'s profile picture",size:1.4}}),{c(){e=_("div"),x(t.$$.fragment),l=S(),n=_("div"),r=_("h1"),a=z(s[1]),i=S(),o=_("div"),u=z(c),f=S(),m=_("div"),v=z(k),p(r,"class","profile-username svelte-w8vhr2"),p(o,"class","profile-active svelte-w8vhr2"),p(m,"class","profile-role svelte-w8vhr2"),p(n,"class","profile-header-info svelte-w8vhr2"),p(e,"class","profile-header svelte-w8vhr2")},m(g,w){b(g,e,w),M(t,e,null),d(e,l),d(e,n),d(n,r),d(r,a),d(n,i),d(n,o),d(o,u),d(n,f),d(n,m),d(m,v),$=!0},p(g,w){const C={};w&6&&(C.online=g[2].includes(g[1])),w&10&&(C.icon=g[1]===g[3].name?g[3].pfp_data:g[11].pfp_data),w&2&&(C.alt=g[1]+"'s profile picture"),t.$set(C),(!$||w&2)&&G(a,g[1]),(!$||w&6)&&c!==(c=g[2].includes(g[1])?"Online":"Offline")&&G(u,c),(!$||w&2)&&k!==(k=(Yt[g[11].lvl]||"Unknown")+"")&&G(v,k)},i(g){$||(j(t.$$.fragment,g),$=!0)},o(g){q(t.$$.fragment,g),$=!1},d(g){g&&h(e),I(t)}}}function In(s){let e,t,l;return{c(){e=_("button"),e.textContent="Remove from chat",p(e,"class","long svelte-w8vhr2")},m(n,r){b(n,e,r),t||(l=T(e,"click",s[7]),t=!0)},p:P,d(n){n&&h(e),t=!1,l()}}}function ja(s){let e,t,l;return t=new ke({}),{c(){e=_("div"),x(t.$$.fragment),p(e,"class","center svelte-w8vhr2")},m(n,r){b(n,e,r),M(t,e,null),l=!0},p:P,i(n){l||(j(t.$$.fragment,n),l=!0)},o(n){q(t.$$.fragment,n),l=!1},d(n){n&&h(e),I(t)}}}function qa(s){let e,t,l,n={ctx:s,current:null,token:null,hasCatch:!0,pending:ja,then:Ca,catch:wa,value:11,error:12,blocks:[,,,]};return Ye(t=Mt(s[1]),n),{c(){e=_("div"),n.block.c(),p(e,"slot","default")},m(r,a){b(r,e,a),n.block.m(e,n.anchor=null),n.mount=()=>e,n.anchor=null,l=!0},p(r,a){s=r,n.ctx=s,a&2&&t!==(t=Mt(s[1]))&&Ye(t,n)||Qe(n,s,a)},i(r){l||(j(n.block),l=!0)},o(r){for(let a=0;a<3;a+=1){const i=n.blocks[a];q(i)}l=!1},d(r){r&&h(e),n.block.d(),n.token=null,n=null}}}function Pa(s){let e,t;return e=new me({props:{$$slots:{default:[qa],header:[$a]},$$scope:{ctx:s}}}),e.$on("close",s[10]),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p(l,[n]){const r={};n&8255&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function za(s,e,t){let l,n,r,a,i,o;return D(s,H,v=>t(0,l=v)),D(s,Zt,v=>t(1,n=v)),D(s,Ae,v=>t(2,r=v)),D(s,ie,v=>t(3,a=v)),D(s,Ce,v=>t(4,i=v)),D(s,Ht,v=>t(5,o=v)),[l,n,r,a,i,o,()=>{F(H,l=!1,l),ae({cmd:"direct",val:{cmd:"set_chat_state",val:{state:0,chatid:i}}}),Je.set(n),fe.set("profile")},()=>{ce.set("removeMember")},()=>{F(H,l=!1,l)},()=>{F(H,l=!1,l)},()=>{F(H,l=!1,l)}]}class Ea extends te{constructor(e){super(),ee(this,e,za,Pa,X,{})}}function Ma(s){let e;return{c(){e=_("h2"),e.textContent="Add Member",p(e,"slot","header")},m(t,l){b(t,e,l)},p:P,d(t){t&&h(e)}}}function Ia(s){let e,t,l,n,r,a,i,o,c,u,f,m,k,v,$,g,w;return{c(){e=_("div"),t=_("form"),l=_("label"),l.innerHTML="<b>Username</b>",n=S(),r=_("input"),a=S(),i=_("br"),o=_("br"),c=S(),u=_("div"),f=_("button"),f.textContent="Cancel",m=S(),k=_("button"),v=z("Add member"),p(l,"for","userinput"),p(r,"type","text"),p(r,"class","long white svelte-1ntawbt"),p(r,"placeholder","Username"),p(r,"id","userinput"),p(r,"name","userinput"),p(r,"autocomplete","false"),p(r,"maxlength","360"),p(f,"type","button"),p(k,"type","submit"),k.disabled=$=!s[0],p(u,"class","modal-buttons"),p(e,"slot","default")},m(C,E){b(C,e,E),d(e,t),d(t,l),d(t,n),d(t,r),et(r,s[0]),d(t,a),d(t,i),d(t,o),d(t,c),d(t,u),d(u,f),d(u,m),d(u,k),d(k,v),g||(w=[T(r,"input",s[4]),T(f,"click",be(s[5])),T(t,"submit",be(s[6]))],g=!0)},p(C,E){E&1&&r.value!==C[0]&&et(r,C[0]),E&1&&$!==($=!C[0])&&(k.disabled=$)},d(C){C&&h(e),g=!1,oe(w)}}}function xa(s){let e,t;return e=new me({props:{$$slots:{default:[Ia],header:[Ma]},$$scope:{ctx:s}}}),e.$on("close",s[7]),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p(l,[n]){const r={};n&271&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function La(s,e,t){let l,n,r;D(s,H,f=>t(1,l=f)),D(s,Ce,f=>t(2,n=f)),D(s,Ge,f=>t(3,r=f));let a;function i(){a=this.value,t(0,a)}return[a,l,n,r,i,()=>{F(H,l=!1,l)},f=>{ae({cmd:"direct",val:{cmd:"add_to_chat",val:{chatid:n,username:f.target[0].value}}}),r.push(a),Ge.set(r),F(H,l=!1,l)},()=>{F(H,l=!1,l)}]}class Oa extends te{constructor(e){super(),ee(this,e,La,xa,X,{})}}function Ta(s){let e;return{c(){e=_("h2"),e.textContent="Remove Member",p(e,"slot","header")},m(t,l){b(t,e,l)},p:P,d(t){t&&h(e)}}}function Ra(s){let e,t,l,n,r,a,i,o,c,u,f,m,k,v,$,g,w;return{c(){e=_("div"),t=_("span"),l=z("Are you sure you want to remove "),n=z(s[0]),r=z(" from "),a=z(s[2]),i=z("?"),o=S(),c=_("br"),u=_("br"),f=S(),m=_("div"),k=_("button"),k.textContent="Cancel",v=S(),$=_("button"),$.textContent="Remove",p(m,"class","modal-buttons"),p(e,"slot","default")},m(C,E){b(C,e,E),d(e,t),d(t,l),d(t,n),d(t,r),d(t,a),d(t,i),d(e,o),d(e,c),d(e,u),d(e,f),d(e,m),d(m,k),d(m,v),d(m,$),g||(w=[T(k,"click",s[6]),T($,"click",s[7])],g=!0)},p(C,E){E&1&&G(n,C[0]),E&4&&G(a,C[2])},d(C){C&&h(e),g=!1,oe(w)}}}function Na(s){let e,t;return e=new me({props:{$$slots:{default:[Ra],header:[Ta]},$$scope:{ctx:s}}}),e.$on("close",s[8]),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p(l,[n]){const r={};n&543&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function Aa(s,e,t){let l,n,r,a,i;D(s,Zt,m=>t(0,l=m)),D(s,H,m=>t(1,n=m)),D(s,Fe,m=>t(2,r=m)),D(s,Ce,m=>t(3,a=m)),D(s,Ge,m=>t(4,i=m));function o(m){return m!==l}return[l,n,r,a,i,o,()=>{F(H,n=!1,n)},()=>{ae({cmd:"direct",val:{cmd:"remove_from_chat",val:{chatid:a,username:l}}}),Ge.set(i.filter(o)),F(H,n=!1,n)},()=>{F(H,n=!1,n)}]}class Ua extends te{constructor(e){super(),ee(this,e,Aa,Na,X,{})}}function Ba(s){let e;return{c(){e=_("h2"),e.textContent="Create Chat",p(e,"slot","header")},m(t,l){b(t,e,l)},p:P,d(t){t&&h(e)}}}function xn(s){let e,t,l;return{c(){e=_("span"),t=z(s[0]),l=_("br"),p(e,"class","login-status")},m(n,r){b(n,e,r),d(e,t),b(n,l,r)},p(n,r){r&1&&G(t,n[0])},d(n){n&&h(e),n&&h(l)}}}function Da(s){let e,t,l,n,r,a,i,o,c,u,f,m,k,v=s[0]&&xn(s);return{c(){e=_("div"),t=_("form"),v&&v.c(),l=S(),n=_("input"),r=_("br"),a=_("br"),i=S(),o=_("div"),c=_("button"),c.textContent="Cancel",u=S(),f=_("button"),f.textContent="Create",p(n,"type","text"),p(n,"class","modal-input white"),p(n,"placeholder","Nickname"),p(n,"maxlength","20"),n.autofocus=!0,p(c,"type","button"),p(f,"type","submit"),p(o,"class","modal-buttons"),p(e,"slot","default")},m($,g){b($,e,g),d(e,t),v&&v.m(t,null),d(t,l),d(t,n),d(t,r),d(t,a),d(t,i),d(t,o),d(o,c),d(o,u),d(o,f),n.focus(),m||(k=[T(c,"click",s[3]),T(t,"submit",be(s[4]))],m=!0)},p($,g){$[0]?v?v.p($,g):(v=xn($),v.c(),v.m(t,l)):v&&(v.d(1),v=null)},d($){$&&h(e),v&&v.d(),m=!1,oe(k)}}}function Ha(s){let e,t;return e=new me({props:{$$slots:{default:[Da],header:[Ba]},$$scope:{ctx:s}}}),e.$on("close",s[5]),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p(l,[n]){const r={};n&67&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function Wa(s,e,t){let l;D(s,H,c=>t(1,l=c));let n="";function r(c){try{t(0,n="Creating chat..."),ae({cmd:"direct",val:{cmd:"create_chat",val:c}}).then(()=>{H.set(!1),fe.set("blank"),Se().then(()=>fe.set("chatlist"))}).catch(u=>{t(0,n=`Unexpected ${u} error!`)})}catch(u){console.error(u),t(0,n="Error logging in: "+u)}}return[n,l,r,()=>{F(H,l=!1,l)},c=>c.target[0].value?(r(c.target[0].value),!1):(t(0,n="You must specify a nickname to create the chat!"),!1),()=>{F(H,l=!1,l)}]}class Ya extends te{constructor(e){super(),ee(this,e,Wa,Ha,X,{})}}function Ka(s){let e;return{c(){e=_("h2"),e.textContent="Set Quote",p(e,"slot","header")},m(t,l){b(t,e,l)},p:P,d(t){t&&h(e)}}}function Fa(s){let e,t,l,n,r,a,i,o,c,u,f,m,k,v,$,g;return{c(){e=_("div"),t=_("form"),l=_("span"),l.textContent="Your quote is a small piece of text that will be displayed publically on your profile.",n=_("br"),r=_("br"),a=S(),i=_("input"),o=_("br"),c=_("br"),u=S(),f=_("div"),m=_("button"),m.textContent="Cancel",k=S(),v=_("button"),v.textContent="Set Quote",p(i,"type","text"),p(i,"class","modal-input white"),p(i,"placeholder","Write something..."),p(i,"maxlength","360"),p(m,"type","button"),p(v,"type","submit"),p(f,"class","modal-buttons"),p(e,"slot","default")},m(w,C){b(w,e,C),d(e,t),d(t,l),d(t,n),d(t,r),d(t,a),d(t,i),et(i,s[1].quote),d(t,o),d(t,c),d(t,u),d(t,f),d(f,m),d(f,k),d(f,v),$||(g=[T(i,"input",s[2]),T(m,"click",s[3]),T(t,"submit",be(s[4]))],$=!0)},p(w,C){C&2&&i.value!==w[1].quote&&et(i,w[1].quote)},d(w){w&&h(e),$=!1,oe(g)}}}function Ga(s){let e,t;return e=new me({props:{$$slots:{default:[Fa],header:[Ka]},$$scope:{ctx:s}}}),e.$on("close",s[5]),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p(l,[n]){const r={};n&67&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function Ja(s,e,t){let l,n;D(s,H,c=>t(0,l=c)),D(s,ie,c=>t(1,n=c));function r(){n.quote=this.value,ie.set(n)}return[l,n,r,()=>{F(H,l=!1,l)},async c=>{H.set(!1),await De(),fe.set("blank"),Se().then(()=>fe.set("profile"))},()=>{F(H,l=!1,l)}]}class Qa extends te{constructor(e){super(),ee(this,e,Ja,Ga,X,{})}}function Va(s){let e;return{c(){e=_("h2"),e.textContent="Change Password",p(e,"slot","header")},m(t,l){b(t,e,l)},p:P,d(t){t&&h(e)}}}function Ln(s){let e,t;return{c(){e=_("label"),t=z(s[0]),p(e,"for","old-password-input"),Be(e,"color","red")},m(l,n){b(l,e,n),d(e,t)},p(l,n){n&1&&G(t,l[0])},d(l){l&&h(e)}}}function Xa(s){let e,t,l,n,r,a,i,o,c,u,f,m,k,v,$,g,w,C,E,y,O,L=s[0]&&Ln(s);return{c(){e=_("div"),t=_("form"),L&&L.c(),l=S(),n=_("input"),r=_("br"),a=_("br"),i=S(),o=_("input"),c=_("br"),u=_("br"),f=S(),m=_("input"),k=_("br"),v=_("br"),$=S(),g=_("div"),w=_("button"),w.textContent="Cancel",C=S(),E=_("button"),E.textContent="Change Password",p(n,"id","old-password-input"),p(n,"type","password"),p(n,"class","modal-input white"),p(n,"placeholder","Current Password"),p(n,"maxlength","64"),p(o,"id","new-password-input"),p(o,"type","password"),p(o,"class","modal-input white"),p(o,"placeholder","New Password"),p(o,"maxlength","64"),p(m,"type","password"),p(m,"class","modal-input white"),p(m,"placeholder","Confirm New Password"),p(m,"maxlength","64"),p(w,"type","button"),p(E,"type","submit"),p(g,"class","modal-buttons"),p(e,"slot","default")},m(B,W){b(B,e,W),d(e,t),L&&L.m(t,null),d(t,l),d(t,n),d(t,r),d(t,a),d(t,i),d(t,o),d(t,c),d(t,u),d(t,f),d(t,m),d(t,k),d(t,v),d(t,$),d(t,g),d(g,w),d(g,C),d(g,E),y||(O=[T(w,"click",s[2]),T(t,"submit",be(s[3]))],y=!0)},p(B,W){B[0]?L?L.p(B,W):(L=Ln(B),L.c(),L.m(t,l)):L&&(L.d(1),L=null)},d(B){B&&h(e),L&&L.d(),y=!1,oe(O)}}}function Za(s){let e,t;return e=new me({props:{$$slots:{default:[Xa],header:[Va]},$$scope:{ctx:s}}}),e.$on("close",s[4]),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p(l,[n]){const r={};n&35&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function ec(s,e,t){let l;D(s,H,o=>t(1,l=o));let n="";return[n,l,()=>{F(H,l=!1,l)},async o=>{if(!o.target[0].value)return t(0,n="You must specify your current password"),!1;if(!o.target[1].value)return t(0,n="You must specify a new password to change your password"),!1;if(o.target[1].value!==o.target[2].value)return t(0,n="New passwords do not match"),!1;o.target[4].disabled=!0,await ae({cmd:"direct",val:{cmd:"change_pswd",val:o.target[1].value}}),F(H,l=!1,l),localStorage.clear(),He.set("setup"),await Se(),ve.set("reconnect")},()=>{F(H,l=!1,l)}]}class tc extends te{constructor(e){super(),ee(this,e,ec,Za,X,{})}}function lc(s){let e;return{c(){e=_("h2"),e.textContent="Delete Account",p(e,"slot","header")},m(t,l){b(t,e,l)},p:P,d(t){t&&h(e)}}}function nc(s){let e,t,l,n,r,a,i,o,c,u,f,m,k,v,$,g,w,C,E,y,O;return{c(){e=_("div"),t=_("form"),l=_("span"),l.textContent="Deleting your account will erase all data from our database, this action is irreversible! Are you absolutely sure you would like to permanently delete your account?",n=_("br"),r=_("br"),a=S(),i=_("span"),i.textContent="Please confirm your username below to be able to delete your account:",o=_("br"),c=S(),u=_("input"),f=_("br"),m=_("br"),k=S(),v=_("div"),$=_("button"),$.textContent="Cancel",g=S(),w=_("button"),C=z("Delete Account"),Be(l,"color","red"),p(u,"type","text"),p(u,"class","modal-input white"),p(u,"placeholder","Username"),p(u,"maxlength","20"),p($,"type","button"),p(w,"type","submit"),w.disabled=E=s[0]!==s[2].name,p(v,"class","modal-buttons"),p(e,"slot","default")},m(L,B){b(L,e,B),d(e,t),d(t,l),d(t,n),d(t,r),d(t,a),d(t,i),d(t,o),d(t,c),d(t,u),et(u,s[0]),d(t,f),d(t,m),d(t,k),d(t,v),d(v,$),d(v,g),d(v,w),d(w,C),y||(O=[T(u,"input",s[3]),T($,"click",s[4]),T(t,"submit",be(s[5]))],y=!0)},p(L,B){B&1&&u.value!==L[0]&&et(u,L[0]),B&5&&E!==(E=L[0]!==L[2].name)&&(w.disabled=E)},d(L){L&&h(e),y=!1,oe(O)}}}function sc(s){let e,t;return e=new me({props:{$$slots:{default:[nc],header:[lc]},$$scope:{ctx:s}}}),e.$on("close",s[6]),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p(l,[n]){const r={};n&135&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function rc(s,e,t){let l,n;D(s,H,u=>t(1,l=u)),D(s,ie,u=>t(2,n=u));let r="";function a(){r=this.value,t(0,r)}return[r,l,n,a,()=>{F(H,l=!1,l)},async u=>{await ae({cmd:"direct",val:{cmd:"del_account",val:""}}),F(H,l=!1,l),localStorage.clear(),He.set("setup"),await Se(),ve.set("reconnect")},()=>{F(H,l=!1,l)}]}class oc extends te{constructor(e){super(),ee(this,e,rc,sc,X,{})}}function ic(s){let e;return{c(){e=_("h2"),e.textContent="Logout",p(e,"slot","header")},m(t,l){b(t,e,l)},p:P,d(t){t&&h(e)}}}function ac(s){let e,t,l,n,r,a,i,o,c,u,f,m;return{c(){e=_("div"),t=_("span"),t.textContent="Are you sure you would like to logout?",l=S(),n=_("br"),r=_("br"),a=S(),i=_("div"),o=_("button"),o.textContent="Cancel",c=S(),u=_("button"),u.textContent="Logout",p(i,"class","modal-buttons"),p(e,"slot","default")},m(k,v){b(k,e,v),d(e,t),d(e,l),d(e,n),d(e,r),d(e,a),d(e,i),d(i,o),d(i,c),d(i,u),f||(m=[T(o,"click",s[1]),T(u,"click",s[2])],f=!0)},p:P,d(k){k&&h(e),f=!1,oe(m)}}}function cc(s){let e,t;return e=new me({props:{$$slots:{default:[ac],header:[ic]},$$scope:{ctx:s}}}),e.$on("close",s[3]),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p(l,[n]){const r={};n&17&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function uc(s,e,t){let l;return D(s,H,i=>t(0,l=i)),[l,()=>{F(H,l=!1,l)},async()=>{F(H,l=!1,l),ct.set("Intentional disconnect"),Te.set(!1),He.set("setup"),await Se(),ve.set("reconnect")},()=>{F(H,l=!1,l)}]}class fc extends te{constructor(e){super(),ee(this,e,uc,cc,X,{})}}function dc(s){let e;return{c(){e=_("h2"),e.textContent="Error Loading Modal",p(e,"slot","header")},m(t,l){b(t,e,l)},p:P,d(t){t&&h(e)}}}function pc(s){let e,t,l="Error loading modal for '"+s[1]+"'",n,r,a;return{c(){e=_("div"),t=_("p"),n=z(l),r=S(),a=_("small"),a.textContent="PS to devlopers, Your code may be working!",p(a,"class","smol svelte-mytpja"),p(e,"slot","default")},m(i,o){b(i,e,o),d(e,t),d(t,n),d(e,r),d(e,a)},p(i,o){o&2&&l!==(l="Error loading modal for '"+i[1]+"'")&&G(n,l)},d(i){i&&h(e)}}}function mc(s){let e,t;return e=new me({props:{$$slots:{default:[pc],header:[dc]},$$scope:{ctx:s}}}),e.$on("close",s[2]),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p(l,[n]){const r={};n&10&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function _c(s,e,t){let l,n;return D(s,H,a=>t(0,l=a)),D(s,ce,a=>t(1,n=a)),[l,n,()=>{F(H,l=!1,l)}]}class gc extends te{constructor(e){super(),ee(this,e,_c,mc,X,{})}}function vc(s){let e;return{c(){e=_("h2"),e.textContent="Statistics",p(e,"slot","header")},m(t,l){b(t,e,l)},p:P,d(t){t&&h(e)}}}function hc(s){return{c:P,m:P,p:P,i:P,o:P,d:P}}function bc(s){let e,t,l=(s[0].posts/1e3).toFixed(2)+"",n,r,a=s[0].chats+"",i,o,c=(s[0].users/1e3).toFixed(2)+"",u,f;return{c(){e=_("p"),t=z("There are "),n=z(l),r=z("K+ Posts, "),i=z(a),o=z(" Chats and "),u=z(c),f=z("K+ users")},m(m,k){b(m,e,k),d(e,t),d(e,n),d(e,r),d(e,i),d(e,o),d(e,u),d(e,f)},p(m,k){k&1&&l!==(l=(m[0].posts/1e3).toFixed(2)+"")&&G(n,l),k&1&&a!==(a=m[0].chats+"")&&G(i,a),k&1&&c!==(c=(m[0].users/1e3).toFixed(2)+"")&&G(u,c)},i:P,o:P,d(m){m&&h(e)}}}function kc(s){let e,t,l;return t=new ke({}),{c(){e=_("div"),x(t.$$.fragment),p(e,"class","fullcenter")},m(n,r){b(n,e,r),M(t,e,null),l=!0},p:P,i(n){l||(j(t.$$.fragment,n),l=!0)},o(n){q(t.$$.fragment,n),l=!1},d(n){n&&h(e),I(t)}}}function $c(s){let e,t,l={ctx:s,current:null,token:null,hasCatch:!1,pending:kc,then:bc,catch:hc,blocks:[,,,]};return Ye(s[2](),l),{c(){e=_("div"),l.block.c(),p(e,"slot","default")},m(n,r){b(n,e,r),l.block.m(e,l.anchor=null),l.mount=()=>e,l.anchor=null,t=!0},p(n,r){s=n,Qe(l,s,r)},i(n){t||(j(l.block),t=!0)},o(n){for(let r=0;r<3;r+=1){const a=l.blocks[r];q(a)}t=!1},d(n){n&&h(e),l.block.d(),l.token=null,l=null}}}function wc(s){let e,t;return e=new me({props:{$$slots:{default:[$c],header:[vc]},$$scope:{ctx:s}}}),e.$on("close",s[3]),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p(l,[n]){const r={};n&17&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function yc(s,e,t){let l;D(s,H,i=>t(1,l=i));let{stats:n=""}=e;async function r(){return t(0,n=await(await fetch(xe+"statistics")).json()),t(0,n),n}const a=()=>{F(H,l=!1,l)};return s.$$set=i=>{"stats"in i&&t(0,n=i.stats)},[n,l,r,a]}class Cc extends te{constructor(e){super(),ee(this,e,yc,wc,X,{stats:0})}}function Sc(s){let e;return{c(){e=_("div"),p(e,"class","spinner check svelte-o9ugf6")},m(t,l){b(t,e,l)},p:P,i:P,o:P,d(t){t&&h(e)}}}class jc extends te{constructor(e){super(),ee(this,e,null,Sc,X,{})}}const qc=ue(0),Pc=ue(0),ns=ue(!1);function ss(){qc.set(window.innerWidth),Pc.set(window.innerHeight),ns.set(window.innerWidth<window.innerHeight||window.innerWidth<500||window.innerHeight<400)}ss();window.addEventListener("resize",ss);function On(s){let e,t;return e=new me({props:{$$slots:{default:[Rc],header:[zc]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},p(l,n){const r={};n&520&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function zc(s){let e;return{c(){e=_("h2"),e.textContent="Me-owch.",p(e,"slot","header")},m(t,l){b(t,e,l)},p:P,d(t){t&&h(e)}}}function Ec(s){let e,t,l,n;return{c(){e=z(`We ran into an error trying to connect to the server.\r
						`),t=_("pre"),l=_("code"),n=z(s[3])},m(r,a){b(r,e,a),b(r,t,a),d(t,l),d(l,n)},p(r,a){a&8&&G(n,r[3])},d(r){r&&h(e),r&&h(t)}}}function Mc(s){let e;return{c(){e=z("You have been kicked by a moderator.")},m(t,l){b(t,e,l)},p:P,d(t){t&&h(e)}}}function Ic(s){let e;return{c(){e=z("You have been banned by a moderator.")},m(t,l){b(t,e,l)},p:P,d(t){t&&h(e)}}}function xc(s){let e,t,l,n;return{c(){e=z(`There has been a hiccup! Looks like you logged into Meower from another device.\r
						`),t=_("br"),l=_("br"),n=z(`\r
						Please check any devices currently logged into Meower and try again.`)},m(r,a){b(r,e,a),b(r,t,a),b(r,l,a),b(r,n,a)},p:P,d(r){r&&h(e),r&&h(t),r&&h(l),r&&h(n)}}}function Lc(s){let e,t=Y.ip+"",l,n;return{c(){e=z("The server has blocked your IP address ("),l=z(t),n=z(").")},m(r,a){b(r,e,a),b(r,l,a),b(r,n,a)},p:P,d(r){r&&h(e),r&&h(l),r&&h(n)}}}function Oc(s){let e;return{c(){e=z("An unexpected error occurred while trying to load your userdata! Check console for more information.")},m(t,l){b(t,e,l)},p:P,d(t){t&&h(e)}}}function Tc(s){let e;return{c(){e=z("Something went wrong and the connection to Meower was lost.")},m(t,l){b(t,e,l)},p:P,d(t){t&&h(e)}}}function Rc(s){let e,t,l,n,r,a;function i(u,f){return u[3]===""?Tc:u[3]==="Failed to load userdata"?Oc:u[3]==="E:119 | IP Blocked"?Lc:u[3]=="E:110 | ID conflict"?xc:u[3]=="E:018 | Account Banned"?Ic:u[3]=="E:020 | Kicked"?Mc:Ec}let o=i(s),c=o(s);return{c(){e=_("div"),t=_("p"),c.c(),l=S(),n=_("button"),n.textContent="Reconnect",p(e,"slot","default")},m(u,f){b(u,e,f),d(e,t),c.m(t,null),d(e,l),d(e,n),r||(a=T(n,"click",s[8]),r=!0)},p(u,f){o===(o=i(u))&&c?c.p(u,f):(c.d(1),c=o(u),c&&(c.c(),c.m(t,null)))},d(u){u&&h(e),c.d(),r=!1,a()}}}function Tn(s){let e,t,l,n;const r=[eu,Zc,Xc,Vc,Qc,Jc,Gc,Fc,Kc,Yc,Wc,Hc,Dc,Bc,Uc,Ac,Nc],a=[];function i(o,c){return o[5]==="login"?0:o[5]==="signup"?1:o[5]==="banned"?2:o[5]==="ipBanned"?3:o[5]==="deletePost"?4:o[5]==="reportPost"?5:o[5]==="reportUser"?6:o[5]==="createChat"?7:o[5]==="setQuote"?8:o[5]==="Stats"?9:o[5]==="changePassword"?10:o[5]==="deleteAccount"?11:o[5]==="GC_Member"?12:o[5]==="AddMember"?13:o[5]==="removeMember"?14:o[5]==="logout"?15:16}return e=i(s),t=a[e]=r[e](s),{c(){t.c(),l=qe()},m(o,c){a[e].m(o,c),b(o,l,c),n=!0},p(o,c){let u=e;e=i(o),e!==u&&(le(),q(a[u],1,1,()=>{a[u]=null}),ne(),t=a[e],t||(t=a[e]=r[e](o),t.c()),j(t,1),t.m(l.parentNode,l))},i(o){n||(j(t),n=!0)},o(o){q(t),n=!1},d(o){a[e].d(o),o&&h(l)}}}function Nc(s){let e,t;return e=new gc({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function Ac(s){let e,t;return e=new fc({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function Uc(s){let e,t;return e=new Ua({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function Bc(s){let e,t;return e=new Oa({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function Dc(s){let e,t;return e=new Ea({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function Hc(s){let e,t;return e=new oc({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function Wc(s){let e,t;return e=new tc({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function Yc(s){let e,t;return e=new Cc({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function Kc(s){let e,t;return e=new Qa({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function Fc(s){let e,t;return e=new Ya({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function Gc(s){let e,t;return e=new ka({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function Jc(s){let e,t;return e=new _a({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function Qc(s){let e,t;return e=new aa({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function Vc(s){let e,t;return e=new na({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function Xc(s){let e,t;return e=new Xi({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function Zc(s){let e,t;return e=new Fi({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function eu(s){let e,t;return e=new Ui({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function tu(s){let e,t;return e=new $i({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function lu(s){let e,t;return e=new xi({}),{c(){x(e.$$.fragment)},m(l,n){M(e,l,n),t=!0},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function Rn(s){let e,t,l;return t=new jc({}),{c(){e=_("div"),x(t.$$.fragment),p(e,"class","spinner-container svelte-17c7hqb")},m(n,r){b(n,e,r),M(t,e,null),l=!0},i(n){l||(j(t.$$.fragment,n),l=!0)},o(n){q(t.$$.fragment,n),l=!1},d(n){n&&h(e),I(t)}}}function nu(s){let e,t,l,n,r,a,i,o=s[2]&&On(s),c=s[4]&&Tn(s);const u=[lu,tu],f=[];function m(v,$){return v[6]==="setup"?0:1}n=m(s),r=f[n]=u[n](s);let k=s[7]&&Rn();return{c(){e=_("main"),o&&o.c(),t=S(),c&&c.c(),l=S(),r.c(),a=S(),k&&k.c(),p(e,"id","main"),p(e,"class","svelte-17c7hqb"),ge(e,"theme-orange",s[0].theme==="orange"),ge(e,"theme-blue",s[0].theme==="blue"),ge(e,"mode-light",s[0].mode!==!1),ge(e,"mode-dark",s[0].mode===!1),ge(e,"layout-old",s[1]||s[0].layout==="old"),ge(e,"layout-mobile",s[1])},m(v,$){b(v,e,$),o&&o.m(e,null),d(e,t),c&&c.m(e,null),d(e,l),f[n].m(e,null),d(e,a),k&&k.m(e,null),i=!0},p(v,[$]){v[2]?o?(o.p(v,$),$&4&&j(o,1)):(o=On(v),o.c(),j(o,1),o.m(e,t)):o&&(le(),q(o,1,1,()=>{o=null}),ne()),v[4]?c?(c.p(v,$),$&16&&j(c,1)):(c=Tn(v),c.c(),j(c,1),c.m(e,l)):c&&(le(),q(c,1,1,()=>{c=null}),ne());let g=n;n=m(v),n!==g&&(le(),q(f[g],1,1,()=>{f[g]=null}),ne(),r=f[n],r||(r=f[n]=u[n](v),r.c()),j(r,1),r.m(e,a)),v[7]?k?$&128&&j(k,1):(k=Rn(),k.c(),j(k,1),k.m(e,null)):k&&(le(),q(k,1,1,()=>{k=null}),ne()),$&1&&ge(e,"theme-orange",v[0].theme==="orange"),$&1&&ge(e,"theme-blue",v[0].theme==="blue"),$&1&&ge(e,"mode-light",v[0].mode!==!1),$&1&&ge(e,"mode-dark",v[0].mode===!1),$&3&&ge(e,"layout-old",v[1]||v[0].layout==="old"),$&2&&ge(e,"layout-mobile",v[1])},i(v){i||(j(o),j(c),j(r),j(k),i=!0)},o(v){q(o),q(c),q(r),q(k),i=!1},d(v){v&&h(e),o&&o.d(),c&&c.d(),f[n].d(),k&&k.d()}}}function su(s,e,t){let l,n,r,a,i,o,c,u;return D(s,ie,m=>t(0,l=m)),D(s,ns,m=>t(1,n=m)),D(s,Te,m=>t(2,r=m)),D(s,ct,m=>t(3,a=m)),D(s,H,m=>t(4,i=m)),D(s,ce,m=>t(5,o=m)),D(s,He,m=>t(6,c=m)),D(s,We,m=>t(7,u=m)),[l,n,r,a,i,o,c,u,async()=>{He.set("setup"),Te.set(!1),await Se(),ve.set("reconnect")}]}class ru extends te{constructor(e){super(),ee(this,e,su,nu,X,{})}}try{navigator.serviceWorker&&navigator.serviceWorker.getRegistration().then(s=>{s&&s.unregister()})}catch(s){console.error(s)}new ru({target:document.getElementById("app")});
